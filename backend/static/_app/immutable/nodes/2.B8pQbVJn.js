import{f as B,a as L}from"../chunks/B5mZLFLJ.js";import{i as M}from"../chunks/D6vZkVq1.js";import{p as N,t as $,g as e,a as O,s as i,$ as z,c as s,r,m as c,b as n}from"../chunks/KKiNGECp.js";import{h as F,e as S,s as P}from"../chunks/CxMWnzkG.js";import{i as G}from"../chunks/BOZlHw2i.js";import{b as U,r as D,B as H}from"../chunks/DX3MR-9l.js";import{g as q}from"../chunks/BV3su4wA.js";var I=B('<div class="text-red-red-600 text-sm text-center"> </div>'),J=B(`<div class="min-h-screen flex items-center justify-center bg-gray-100 px-4 py-8"><div class="w-full max-w-sm"><form class="space-y-4"><div><label for="username" class="block text-sm font-medium text-gray-700 mb-1">Username</label> <input id="username" name="username" type="text" required class="w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 transition-colors disabled:opacity-50"/></div> <div><label for="password" class="block text-sm font-medium text-gray-700 mb-1">Password</label> <input id="password" name="password" type="password" required class="w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 transition-colors disabled:opacity-50"/></div> <!> <button type="submit" class="mt-6 w-full py-2 px-4 bg-blue-500 hover:bg-blue-600 disabled:bg-blue-300 text-white font-medium rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors"> </button></form> <div class="mt-5 text-center"><p class="text-left text-sm text-gray-600 mb-1">Don't have an account yet?</p> <button type="button" class="border-3 border-blue-500 w-full py-2 px-4 hover:bg-gray-300 disabled:opacity-50 text-blue-500 font-medium rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 transition-colors">Sign Up</button></div></div></div>`);function te(R,T){N(T,!1);let m=c(""),p=c(""),o=c(!1),d=c("");const j=async t=>{t.preventDefault(),n(o,!0),n(d,"");try{const a=new URLSearchParams;a.append("username",e(m)),a.append("password",e(p));const l=await fetch(`${H}/login`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:a,credentials:"include"});if(l.ok)q("/dashboard");else{const K=await l.text();n(d,`Login failed (${l.status}). Please check your credentials.`)}}catch(a){n(d,`Network error: ${a.message}. Please try again.`)}finally{n(o,!1)}},A=()=>{q("/signup")};M();var b=J();F(t=>{z.title="Login"});var w=s(b),u=s(w),f=s(u),g=i(s(f),2);D(g),r(f);var v=i(f,2),y=i(s(v),2);D(y),r(v);var x=i(v,2);{var C=t=>{var a=I(),l=s(a,!0);r(a),$(()=>P(l,e(d))),L(t,a)};G(x,t=>{e(d)&&t(C)})}var h=i(x,2),E=s(h,!0);r(h),r(u);var _=i(u,2),k=i(s(_),2);r(_),r(w),r(b),$(()=>{g.disabled=e(o),y.disabled=e(o),h.disabled=e(o),P(E,e(o)?"Logging in...":"Login"),k.disabled=e(o)}),U(g,()=>e(m),t=>n(m,t)),U(y,()=>e(p),t=>n(p,t)),S("submit",u,j),S("click",k,A),L(R,b),O()}export{te as component};

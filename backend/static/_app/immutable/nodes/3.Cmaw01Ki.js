import{f as N,a as g,c as tt,t as Lr,d as G}from"../chunks/CO5X12ro.js";import{i as Ye}from"../chunks/BhebSDih.js";import{d as Sr,g as xt,w as ca,a as ua,o as Et,c as Tr}from"../chunks/hoQZN_2d.js";import{k as ht,h as He,a6 as Mr,a5 as jr,e as Nr,d as zr,g as e,R as je,f as Ar,i as Fr,j as $t,l as gt,u as Pe,an as Br,n as va,o as fa,q as Rr,aq as pa,a4 as Hr,m as ee,aB as ea,aC as _t,a8 as ta,aD as Dt,aE as aa,aF as Ir,af as Ur,aG as Or,I as Pr,aH as Ct,aI as Vr,ak as Yr,aJ as ha,L as Wr,aK as qr,t as $,p as Se,F as _e,ae as xe,a as Te,c as u,r as d,s as _,V as Zr,G as ga,aL as Gr,ac as yt,b,aM as bt,B as ra,aN as _a,aO as Kr,aP as wt,x as Qr,$ as Xr}from"../chunks/DZq78Ezw.js";import{s as le,e as M,r as ma,d as Jr,h as $r}from"../chunks/sKjDUr9k.js";import{i as j}from"../chunks/BQGRK2Qk.js";import{s as Oe,a as es,c as Be,r as we,b as ke,d as xa,e as ts,f as as}from"../chunks/CnPbex1U.js";import{g as kt}from"../chunks/CqTEfD8T.js";import{B as Ee}from"../chunks/QH1VciTq.js";import{p as ye,c as Lt,s as $e,b as St,a as rs,d as ss}from"../chunks/BgZpowm-.js";function sa(a,t){return t}function ns(a,t,r,s){for(var i=[],f=t.length,c=0;c<f;c++)Ir(t[c].e,i,!0);var v=f>0&&i.length===0&&r!==null;if(v){var p=r.parentNode;Ur(p),p.append(r),s.clear(),Fe(a,t[0].prev,t[f-1].next)}Or(i,()=>{for(var l=0;l<f;l++){var k=t[l];v||(s.delete(k.k),Fe(a,k.prev,k.next)),Pr(k.e,!v)}})}function at(a,t,r,s,i,f=null){var c=a,v={flags:t,items:new Map,first:null},p=(t&ha)!==0;if(p){var l=a;c=He?ht(Mr(l)):l.appendChild(jr())}He&&Nr();var k=null,A=!1,w=je(()=>{var h=r();return Hr(h)?h:h==null?[]:pa(h)});zr(()=>{var h=e(w),E=h.length;if(A&&E===0)return;A=E===0;let B=!1;if(He){var D=Ar(c)===Fr;D!==(E===0)&&(c=$t(),ht(c),gt(!1),B=!0)}if(He){for(var S=null,Y,Z=0;Z<E;Z++){if(Pe.nodeType===8&&Pe.data===Br){c=Pe,B=!0,gt(!1);break}var F=h[Z],H=s(F,Z);Y=ya(Pe,v,S,null,F,H,Z,i,t,r),v.items.set(H,Y),S=Y}E>0&&ht($t())}He||os(h,v,c,i,t,s,r),f!==null&&(E===0?k?va(k):k=fa(()=>f(c)):k!==null&&Rr(k,()=>{k=null})),B&&gt(!0),e(w)}),He&&(c=Pe)}function os(a,t,r,s,i,f,c){var ge,he,re,oe;var v=(i&qr)!==0,p=(i&(Ct|Dt))!==0,l=a.length,k=t.items,A=t.first,w=A,h,E=null,B,D=[],S=[],Y,Z,F,H;if(v)for(H=0;H<l;H+=1)Y=a[H],Z=f(Y,H),F=k.get(Z),F!==void 0&&((ge=F.a)==null||ge.measure(),(B??(B=new Set)).add(F));for(H=0;H<l;H+=1){if(Y=a[H],Z=f(Y,H),F=k.get(Z),F===void 0){var fe=w?w.e.nodes_start:r;E=ya(fe,t,E,E===null?t.first:E.next,Y,Z,H,s,i,c),k.set(Z,E),D=[],S=[],w=E.next;continue}if(p&&is(F,Y,H,i),(F.e.f&_t)!==0&&(va(F.e),v&&((he=F.a)==null||he.unfix(),(B??(B=new Set)).delete(F))),F!==w){if(h!==void 0&&h.has(F)){if(D.length<S.length){var K=S[0],q;E=K.prev;var de=D[0],te=D[D.length-1];for(q=0;q<D.length;q+=1)na(D[q],K,r);for(q=0;q<S.length;q+=1)h.delete(S[q]);Fe(t,de.prev,te.next),Fe(t,E,de),Fe(t,te,K),w=K,E=te,H-=1,D=[],S=[]}else h.delete(F),na(F,w,r),Fe(t,F.prev,F.next),Fe(t,F,E===null?t.first:E.next),Fe(t,E,F),E=F;continue}for(D=[],S=[];w!==null&&w.k!==Z;)(w.e.f&_t)===0&&(h??(h=new Set)).add(w),S.push(w),w=w.next;if(w===null)continue;F=w}D.push(F),E=F,w=F.next}if(w!==null||h!==void 0){for(var ae=h===void 0?[]:pa(h);w!==null;)(w.e.f&_t)===0&&ae.push(w),w=w.next;var pe=ae.length;if(pe>0){var De=(i&ha)!==0&&l===0?r:null;if(v){for(H=0;H<pe;H+=1)(re=ae[H].a)==null||re.measure();for(H=0;H<pe;H+=1)(oe=ae[H].a)==null||oe.fix()}ns(t,ae,De,k)}}v&&Wr(()=>{var ce;if(B!==void 0)for(F of B)(ce=F.a)==null||ce.apply()}),ta.first=t.first&&t.first.e,ta.last=E&&E.e}function is(a,t,r,s){(s&Ct)!==0&&aa(a.v,t),(s&Dt)!==0?aa(a.i,r):a.i=r}function ya(a,t,r,s,i,f,c,v,p,l){var k=(p&Ct)!==0,A=(p&Vr)===0,w=k?A?ee(i,!1,!1):ea(i):i,h=(p&Dt)===0?c:ea(c),E={i:h,v:w,k:f,a:null,e:null,prev:r,next:s};try{return E.e=fa(()=>v(a,w,h,l),He),E.e.prev=r&&r.e,E.e.next=s&&s.e,r===null?t.first=E:(r.next=E,r.e.next=E.e),s!==null&&(s.prev=E,s.e.prev=E.e),E}finally{}}function na(a,t,r){for(var s=a.next?a.next.e.nodes_start:r,i=t?t.e.nodes_start:r,f=a.e.nodes_start;f!==s;){var c=Yr(f);i.before(f),f=c}}function Fe(a,t,r){t===null?a.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function ls(a){return function(...t){var r=t[0];return r.preventDefault(),a==null?void 0:a.apply(this,t)}}function ds(a,t,r,s){var i,f,c=!1,v=r.length>=2,p=(E,B,D)=>{if(i=B,v&&(f=E),!c){let S=t(E,B,D);if(t.length<2)B(S);else return S}c=!1},l=Sr(a,p,s),k=!Array.isArray(a);function A(E){var B=r(E,f);k?(c=!0,a.set(B)):B.forEach((D,S)=>{c=!0,a[S].set(D)}),c=!1}var w=!1;function h(E){var B,D,S,Y;if(w){Y=E(xt(l)),i(Y);return}var Z=l.subscribe(F=>{w?B?D=!0:B=!0:S=F});Y=E(S),w=!0,i(Y),Z(),w=!1,D&&(Y=xt(l)),B&&A(Y)}return{subscribe:l.subscribe,set(E){h(()=>E)},update:h}}const cs=20,Ie=ca([]),Tt=ca(null),et=new Map,oa=a=>{if(et.has(a))return;const t=setTimeout(()=>{et.delete(a),wa(a)},1e3);et.set(a,t)},us=a=>{const t=et.get(a);t&&clearTimeout(t)};function ba(a,t=!0){t&&a.id&&us(a.id),Ie.update(r=>r.map(s=>s.id===a.id?{...s,...a}:s))}function vs(a){Ie.update(t=>[a,...t].slice(0,cs))}function fs(a){xt(Ie).find(t=>t.id===a.id)?ba(a):vs(a)}function ps(a){Ie.update(t=>(a?oa(a):t.forEach(r=>{oa(r.id)}),t.map(r=>r.id===a||a===void 0?{...r,visible:!1}:r)))}function wa(a){Ie.update(t=>a===void 0?[]:t.filter(r=>r.id!==a))}function hs(a){Tt.set(a)}function gs(a){let t;Tt.update(r=>(t=a-(r||0),null)),Ie.update(r=>r.map(s=>({...s,pauseDuration:s.pauseDuration+t})))}const _s={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3};function ms(a={}){return{toasts:ds(Ie,r=>r.map(s=>{var i,f;return{...a,...a[s.type],...s,duration:s.duration||((i=a[s.type])==null?void 0:i.duration)||(a==null?void 0:a.duration)||_s[s.type],style:[a.style,(f=a[s.type])==null?void 0:f.style,s.style].join(";")}}),r=>r),pausedAt:Tt}}const xs=a=>typeof a=="function",ia=(a,t)=>xs(a)?a(t):a,ys=(()=>{let a=0;return()=>(a+=1,a.toString())})(),ka=(()=>{let a;return()=>{if(a===void 0&&typeof window<"u"){const t=matchMedia("(prefers-reduced-motion: reduce)");a=!t||t.matches}return a}})(),bs=(a,t="blank",r)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:a,pauseDuration:0,icon:r==null?void 0:r.icon,duration:r==null?void 0:r.duration,iconTheme:r==null?void 0:r.iconTheme,position:r==null?void 0:r.position,props:r==null?void 0:r.props,id:(r==null?void 0:r.id)||ys()}),We=a=>(t,r)=>{const s=bs(t,a,r);return fs(s),s.id},X=(a,t)=>We("blank")(a,t);X.error=We("error");X.success=We("success");X.loading=We("loading");X.custom=We("custom");X.dismiss=a=>{ps(a)};X.remove=a=>wa(a);X.promise=(a,t,r)=>{const s=X.loading(t.loading,{...r,...r==null?void 0:r.loading});return a.then(i=>(X.success(ia(t.success,i),{id:s,...r,...r==null?void 0:r.success}),i)).catch(i=>{X.error(ia(t.error,i),{id:s,...r,...r==null?void 0:r.error})}),a};function ws(a,t,r){const{reverseOrder:s,gutter:i=8,defaultPosition:f}=r||{},c=t.filter(k=>(k.position||f)===(a.position||f)&&k.height),v=c.findIndex(k=>k.id===a.id),p=c.filter((k,A)=>A<v&&k.visible).length;return c.filter(k=>k.visible).slice(...s?[p+1]:[0,p]).reduce((k,A)=>k+(A.height||0)+i,0)}const ks={startPause(){hs(Date.now())},endPause(){gs(Date.now())},updateHeight:(a,t)=>{ba({id:a,height:t},!1)},calculateOffset:ws};function Es(a){const{toasts:t,pausedAt:r}=ms(a),s=new Map;let i;const f=[r.subscribe(c=>{if(c){for(const[,v]of s)clearTimeout(v);s.clear()}i=c}),t.subscribe(c=>{if(i)return;const v=Date.now();for(const p of c){if(s.has(p.id)||p.duration===1/0)continue;const l=(p.duration||0)+p.pauseDuration-(v-p.createdAt);if(l<0)return p.visible&&X.dismiss(p.id),null;s.set(p.id,setTimeout(()=>X.dismiss(p.id),l))}})];return ua(()=>{for(const c of f)c()}),{toasts:t,handlers:ks}}var Ds=N('<div class="svelte-11kvm4p"></div>');function Cs(a,t){let r=ye(t,"primary",3,"#61d345"),s=ye(t,"secondary",3,"#fff");var i=Ds();let f;$(()=>f=Oe(i,"",f,{"--primary":r(),"--secondary":s()})),g(a,i)}var Ls=N('<div class="svelte-1ee93ns"></div>');function Ss(a,t){let r=ye(t,"primary",3,"#ff4b4b"),s=ye(t,"secondary",3,"#fff");var i=Ls();let f;$(()=>f=Oe(i,"",f,{"--primary":r(),"--secondary":s()})),g(a,i)}var Ts=N('<div class="svelte-1j7dflg"></div>');function Ms(a,t){let r=ye(t,"primary",3,"#616161"),s=ye(t,"secondary",3,"#e0e0e0");var i=Ts();let f;$(()=>f=Oe(i,"",f,{"--primary":r(),"--secondary":s()})),g(a,i)}var js=N('<div class="animated svelte-1kgeier"> </div>'),Ns=N('<div class="status svelte-1kgeier"><!></div>'),zs=N('<div class="indicator svelte-1kgeier"><!> <!></div>');function Ea(a,t){Se(t,!0);let r=xe(()=>t.toast.type),s=xe(()=>t.toast.icon),i=xe(()=>t.toast.iconTheme);var f=tt(),c=_e(f);{var v=l=>{var k=js(),A=u(k,!0);d(k),$(()=>le(A,e(s))),g(l,k)},p=(l,k)=>{{var A=h=>{var E=tt(),B=_e(E);Lt(B,()=>e(s),(D,S)=>{S(D,{})}),g(h,E)},w=(h,E)=>{{var B=D=>{var S=zs(),Y=u(S);Ms(Y,$e(()=>e(i)));var Z=_(Y,2);{var F=H=>{var fe=Ns(),K=u(fe);{var q=te=>{Ss(te,$e(()=>e(i)))},de=te=>{Cs(te,$e(()=>e(i)))};j(K,te=>{e(r)==="error"?te(q):te(de,!1)})}d(fe),g(H,fe)};j(Z,H=>{e(r)!=="loading"&&H(F)})}d(S),g(D,S)};j(h,D=>{e(r)!=="blank"&&D(B)},E)}};j(l,h=>{typeof e(s)<"u"?h(A):h(w,!1)},k)}};j(c,l=>{typeof e(s)=="string"?l(v):l(p,!1)})}g(a,f),Te()}var As=N("<div><!></div>");function Mt(a,t){Se(t,!0);let r=Zr(t.toast.message);var s=As();es(s,()=>({class:"message",...t.toast.ariaProps}),void 0,"svelte-1nauejd");var i=u(s);{var f=v=>{var p=Lr();$(()=>le(p,t.toast.message)),g(v,p)},c=v=>{var p=tt(),l=_e(p);Lt(l,()=>r,(k,A)=>{A(k,$e({get toast(){return t.toast}},()=>t.toast.props))}),g(v,p)};j(i,v=>{typeof t.toast.message=="string"?v(f):v(c,!1)})}d(s),g(a,s),Te()}const Fs=(a,t=ga)=>{var r=Bs(),s=_e(r);Ea(s,{get toast(){return t().toast}});var i=_(s,2);Mt(i,{get toast(){return t().toast}}),g(a,r)};var Bs=N("<!> <!>",1),Rs=N("<div><!></div>");function Hs(a,t){Se(t,!0);let r=ye(t,"position",3,void 0),s=ye(t,"Component",3,void 0),i=xe(()=>(t.toast.position||r()||"top-center").includes("top")),f=xe(()=>e(i)?1:-1);const c=xe(()=>ka()?["fadeIn","fadeOut"]:["enter","exit"]),v=xe(()=>Gr(e(c),2)),p=xe(()=>e(v)[0]),l=xe(()=>e(v)[1]);let k=xe(()=>t.toast.visible?e(p):e(l));var A=Rs();let w;var h=u(A);{var E=D=>{var S=tt(),Y=_e(S);Lt(Y,s,(Z,F)=>{F(Z,{$$slots:{icon:(H,fe)=>{Ea(H,{get toast(){return t.toast},slot:"icon"})},message:(H,fe)=>{Mt(H,{get toast(){return t.toast},slot:"message"})}}})}),g(D,S)},B=D=>{Fs(D,()=>({toast:t.toast}))};j(h,D=>{s()?D(E):D(B,!1)})}d(A),$(()=>{Be(A,1,`base ${(t.toast.height?e(k):"transparent")??""} ${(t.toast.className||"")??""}`,"svelte-1c9srrs"),w=Oe(A,t.toast.style,w,{"--factor":e(f)})}),g(a,A),Te()}const Is=(a,t=ga)=>{Hs(a,{get toast(){return t().toast},get position(){return t().toast.position}})};var Us=N("<div><!></div>");function Os(a,t){Se(t,!0);let r=yt(void 0);Et(()=>{var h,E,B;(B=t.setHeight)==null||B.call(t,(E=(h=e(r))==null?void 0:h.getBoundingClientRect())==null?void 0:E.height)});let s=xe(()=>{var h;return(h=t.toast.position)!=null&&h.includes("top")?0:null}),i=xe(()=>{var h;return(h=t.toast.position)!=null&&h.includes("bottom")?0:null}),f=xe(()=>{var h;return(h=t.toast.position)!=null&&h.includes("top")?1:-1}),c=xe(()=>{var h,E,B;return((h=t.toast.position)==null?void 0:h.includes("center"))&&"center"||(((E=t.toast.position)==null?void 0:E.includes("right"))||((B=t.toast.position)==null?void 0:B.includes("end")))&&"flex-end"||null});var v=Us();let p,l;var k=u(v);{var A=h=>{Mt(h,{get toast(){return t.toast}})},w=h=>{Is(h,()=>({toast:t.toast}))};j(k,h=>{t.toast.type==="custom"?h(A):h(w,!1)})}d(v),St(v,h=>b(r,h),()=>e(r)),$(h=>{p=Be(v,1,"wrapper svelte-v01oml",null,p,h),l=Oe(v,"",l,{"--factor":e(f),"--offset":t.toast.offset,top:e(s),bottom:e(i),"justify-content":e(c)})},[()=>({active:t.toast.visible,transition:!ka()})]),g(a,v),Te()}var Ps=N('<div role="alert"></div>');function Vs(a,t){Se(t,!0);const[r,s]=rs(),i=()=>ss(p,"$toasts",r);let f=ye(t,"reverseOrder",3,!1),c=ye(t,"position",3,"top-center"),v=ye(t,"gutter",3,8);const{toasts:p,handlers:l}=Es(t.toastOptions);let k=xe(()=>i().map(w=>({...w,position:w.position||c(),offset:l.calculateOffset(w,i(),{reverseOrder:f(),gutter:v(),defaultPosition:c()})})));var A=Ps();at(A,21,()=>e(k),w=>w.id,(w,h)=>{Os(w,{get toast(){return e(h)},setHeight:E=>l.updateHeight(e(h).id,E??0)})}),d(A),$(()=>{Be(A,1,`toaster ${(t.containerClassName||"")??""}`,"svelte-1phplh9"),Oe(A,t.containerStyle)}),M("mouseenter",A,function(...w){var h;(h=l.startPause)==null||h.apply(this,w)}),M("mouseleave",A,function(...w){var h;(h=l.endPause)==null||h.apply(this,w)}),g(a,A),Te(),s()}var Ys=G('<path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"></path>'),Ws=G('<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path>'),qs=G('<path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"></path>'),Zs=G('<path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"></path>'),Gs=G('<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path>'),Ks=G('<path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"></path>'),Qs=G('<path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"></path>'),Xs=G('<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path>'),Js=G('<path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"></path>'),$s=G('<path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"></path>'),en=G('<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path>'),tn=G('<path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"></path>'),an=G('<path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"></path>'),rn=G('<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path>'),sn=G('<path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"></path>'),nn=G('<path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"></path>'),on=G('<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path>'),ln=G('<path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"></path>'),dn=G('<path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"></path>'),cn=G('<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path>'),un=G('<path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"></path>'),vn=G('<path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"></path>'),fn=G('<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path>'),pn=G('<path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"></path>'),hn=G('<path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"></path>'),gn=G('<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path>'),_n=G('<path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"></path>'),mn=G('<path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"></path>'),xn=G('<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path>'),yn=G('<path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"></path>'),bn=N('<input type="date" class="text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/> <button type="button" class="text-green-600 hover:text-green-800 transition-colors" title="Save changes"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></button>',1),wn=N('<span class="flex-1"> </span> <button type="button" class="text-gray-400 hover:text-gray-600 transition-colors" title="Edit last day"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button>',1),kn=N('<input type="date" class="text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/> <button type="button" class="text-green-600 hover:text-green-800 transition-colors" title="Save changes"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></button>',1),En=N('<span class="flex-1"> </span> <button type="button" class="text-gray-400 hover:text-gray-600 transition-colors" title="Edit date for HR email"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button>',1),Dn=N('<div class="flex flex-col gap-2"><div class="flex items-center gap-2"><input type="date" class="text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/> <button type="button" class="text-green-600 hover:text-green-800 transition-colors" title="Save changes"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></button></div> <button type="button" class="text-xs border border-gray-300 hover:bg-gray-300 text-gray-700 w-21.5 rounded px-2 py-1 transition-colors" title="Mark as no existing account">No account</button></div>'),Cn=N('<span class="inline-flex w-5 h-5 text-xs font-medium rounded-full bg-red-600 text-white items-center justify-center">L</span>'),Ln=N('<!> <span> </span> <button type="button" class="text-gray-400 hover:text-gray-600 transition-colors" title="Edit batch deactivation date"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button>',1),Sn=N('<div class="flex flex-col gap-2"><div class="flex items-center gap-2"><input type="date" class="text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/> <button type="button" class="text-green-600 hover:text-green-800 transition-colors" title="Save changes"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></button></div> <button type="button" class="text-xs border border-gray-300 hover:bg-gray-300 text-gray-700 w-21.5 rounded px-2 py-1 transition-colors" title="Mark as no existing account">No account</button></div>'),Tn=N('<span class="inline-flex w-5 h-5 text-xs font-medium rounded-full bg-red-600 text-white items-center justify-center">L</span>'),Mn=N('<!> <span> </span> <button type="button" class="text-gray-400 hover:text-gray-600 transition-colors" title="Edit batch deactivation date"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button>',1),jn=N('<div class="flex flex-col gap-2"><div class="flex items-center gap-2"><input type="date" class="text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/> <button type="button" class="text-green-600 hover:text-green-800 transition-colors" title="Save changes"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></button></div> <button type="button" class="text-xs border border-gray-300 hover:bg-gray-300 text-gray-700 w-21.5 rounded px-2 py-1 transition-colors" title="Mark as no existing account">No account</button></div>'),Nn=N('<span class="inline-flex w-5 h-5 text-xs font-medium rounded-full bg-red-600 text-white items-center justify-center">L</span>'),zn=N('<!> <span> </span> <button type="button" class="text-gray-400 hover:text-gray-600 transition-colors" title="Edit batch deactivation date"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button>',1),An=N('<div class="flex flex-col gap-2"><div class="flex items-center gap-2"><input type="date" class="text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/> <button type="button" class="text-green-600 hover:text-green-800 transition-colors" title="Save changes"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></button></div> <button type="button" class="text-xs border border-gray-300 hover:bg-gray-300 text-gray-700 w-21.5 rounded px-2 py-1 transition-colors" title="Mark as no existing account">No account</button></div>'),Fn=N('<span class="inline-flex w-5 h-5 text-xs font-medium rounded-full bg-red-600 text-white items-center justify-center">L</span>'),Bn=N('<!> <span> </span> <button type="button" class="text-gray-400 hover:text-gray-600 transition-colors" title="Edit batch deactivation date"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button>',1),Rn=N('<input type="checkbox" class="w-5 h-5 text-green-600 rounded border-gray-300 focus:ring-green-500 cursor-pointer align-middle"/>'),Hn=N('<div class="w-4 h-4 bg-gray-400 border-2 border-gray-400 rounded cursor-not-allowed align-middle inline-block" title="Incomplete details"></div>'),In=N('<textarea rows="3" class="text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 h-20 w-28"></textarea> <button type="button" class="text-green-600 hover:text-green-800 transition-colors flex-shrink-0 mt-1" title="Save changes"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></button>',1),Un=N('<span class="flex-1 text-xs break-all hyphens-auto w-28 max-w-28"> </span> <button type="button" class="text-gray-400 hover:text-gray-600 transition-colors flex-shrink-0 mt-1" title="Edit remarks"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button>',1),On=N('<tr class="hover:bg-gray-50 transition-colors"><td class="px-3 py-2 whitespace-normal text-xs font-medium text-gray-900 sticky left-0 bg-white"> </td><td class="pl-3 py-2 whitespace-nowrap text-xs text-gray-900"> </td><td class="pl-3 py-2 whitespace-normal text-xs text-gray-900"> </td><td class="pl-3 py-2 whitespace-normal text-xs font-medium text-gray-900"> </td><td class="pl-3 py-2 whitespace-normal text-xs text-gray-900"> </td><td class="pl-3 py-2 whitespace-normal text-xs text-gray-900"> </td><td class="pl-3 py-2 whitespace-normal text-xs text-gray-900"> </td><td class="pl-3 py-2 whitespace-nowrap text-xs text-gray-900"><div class="flex items-center gap-2"><!></div></td><td class="pl-3 py-2 whitespace-nowrap text-xs text-gray-900"><div class="flex items-center gap-2"><!></div></td><td class="pl-3 py-2 whitespace-nowrap text-xs text-gray-900"><div class="flex items-center gap-2"><!></div></td><td class="pl-3 py-2 whitespace-nowrap text-xs text-gray-900"><div class="flex items-center gap-2"><!></div></td><td class="pl-3 py-2 whitespace-nowrap text-xs text-gray-900"><div class="flex items-center gap-2"><!></div></td><td class="pl-3 py-2 whitespace-nowrap text-xs text-gray-900"><div class="flex items-center gap-2"><!></div></td><td class="pl-5 py-4 whitespace-nowrap text-xs text-gray-500 text-center align-middle z-10"><!></td><td class="px-3 py-2 text-xs text-gray-900 w-80 max-w-80"><div class="flex items-start gap-2"><!></div></td></tr>'),Pn=N('<div class="text-center py-12"><svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> <h3 class="mt-2 text-xs font-medium text-gray-900">No employees found</h3></div>'),Vn=N('<!> <div class="outer-wrapper"><div class="table-wrapper rounded-md svelte-r4r2gy"><table class="min-w-full text-xs text-left text-gray-700 bg-white svelte-r4r2gy"><thead class="bg-gray-100 text-xs text-gray-500 uppercase sticky top-0 z-20"><tr><th class="px-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors sticky left-0 top-0 bg-gray-100 z-30"><div class="flex items-center gap-1"># <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20"><!></svg></div></th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors"><div class="flex items-center gap-1">Date hired <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20"><!></svg></div></th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider">Cost center</th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors"><div class="flex items-center gap-1">Name <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20"><!></svg></div></th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider">Position title</th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider">Rank</th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors"><div class="flex items-center gap-1">Department <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20"><!></svg></div></th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors"><div class="flex items-center gap-1">Last day <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20"><!></svg></div></th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors"><div class="flex items-center gap-1">HR Email <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20"><!></svg></div></th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors"><div class="flex items-center gap-1">Batch Deactivation <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20"><!></svg></div></th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors"><div class="flex items-center gap-1">3rd Party Systems <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20"><!></svg></div></th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors"><div class="flex items-center gap-1">Emails <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20"><!></svg></div></th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors"><div class="flex items-center gap-1">Windows <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20"><!></svg></div></th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider">Status</th><th class="px-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider w-80 max-w-80">Remarks</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"></tbody></table> <!></div> <div class="sticky-scrollbar-container bg-gray-50 border-t border-gray-300 h-5 z-10"><div class="h-5"></div></div></div>',1);function Yn(a,t){Se(t,!1);const r=ee();let s=ye(t,"employees",28,()=>[]),i=ye(t,"onstatustoggle",8),f=ye(t,"onEmployeeUpdate",8,void 0),c=ee(""),v=ee("asc"),p=ee(null),l=ee(""),k=null,A=ee(null);function w(o){e(c)==o?b(v,e(v)==="asc"?"desc":"asc"):(b(c,o),b(v,"asc"))}function h(o){return o?new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"}function E(o){if(!o)return"";const n=new Date(o),z=n.getFullYear(),V=String(n.getMonth()+1).padStart(2,"0"),m=String(n.getDate()).padStart(2,"0");return`${z}-${V}-${m}`}function B(o,n){b(p,{id:o.employee_no,key:n}),typeof o[n]!="boolean"&&(S(o[n])?b(l,""):b(l,E(o[n])))}async function D(o){if(!e(p))return;const{key:n}=e(p);try{const z=e(l).trim();let V,m,T;if(z==="NO_ACCOUNT")V="1900-01-01",m='Marked as "No existing account" for employee no. '+o.employee_no;else{const Ce=new Date(z);if(!z||isNaN(Ce.getTime()))throw new Error("Invalid date format");V=z,m="Changes saved for employee no. "+o.employee_no}switch(n){case"last_day":T=`${Ee}/resignees/${o.employee_no}/last_day`;break;case"um":T=`${Ee}/resignees/${o.employee_no}/um`;break;case"third_party":T=`${Ee}/resignees/${o.employee_no}/third-party`;break;case"email":T=`${Ee}/resignees/${o.employee_no}/email`;break;case"windows":T=`${Ee}/resignees/${o.employee_no}/windows`;break;case"date_hr_emailed":T=`${Ee}/resignees/${o.employee_no}/date_hr_emailed`;break;default:throw new Error(`Unknown field: ${n}`)}const Me=await fetch(T,{method:"PUT",headers:{"Content-Type":"text/plain"},body:V,credentials:"include"});if(!Me.ok){const Ce=await Me.text();throw new Error(`Error ${Me.status}: ${Ce}`)}const ze=await Me.json(),Ae=s().findIndex(Ce=>Ce.employee_no===o.employee_no);if(Ae!==-1){if(z==="NO_ACCOUNT"){if(n in s()[Ae]){s(s()[Ae][n]="1900-01-01",!0);const Ce=n.concat("_late");s(s()[Ae][Ce]=!1,!0)}}else if(s(s()[Ae][n]=new Date(z).toISOString(),!0),["um","third_party","email","windows"].includes(n)){const Ce=`${n}_late`;s(s()[Ae][Ce]=ze.late,!0)}f()&&(n==="last_day"||n==="date_hr_emailed")&&f()()}X.success(m)}catch(z){console.error("Error updating field:",z);const V=z instanceof Error?z.message:"Unknown error";X.error(`Failed to update field: ${V}`)}finally{b(p,null),b(l,"")}}function S(o){if(!o)return!1;const n=new Date(o);return n.getFullYear()===1900&&n.getMonth()===0&&n.getDate()===1}function Y(){b(p,null),b(l,"")}async function Z(o){if(e(p))try{const n=e(l).trim(),z=await fetch(`${Ee}/resignees/${o.employee_no}/remarks`,{method:"PUT",headers:{"Content-Type":"text/plain"},body:n,credentials:"include"});if(!z.ok){const m=await z.text();throw new Error(`Error ${z.status}: ${m}`)}const V=s().findIndex(m=>m.employee_no===o.employee_no);V!==-1&&(s(s()[V].remarks=n,!0),s([...s()]),X.success("Remarks updated for employee no. "+o.employee_no))}catch(n){console.error("Error updating remarks:",n),n instanceof Error&&n.message,X.error("Failed to update remarks")}finally{b(p,null),b(l,"")}}function F(o){b(p,{id:o.employee_no,key:"remarks"}),b(l,String(o.remarks||""))}function H(o){o.key==="Escape"&&Y()}function fe(o){return[o.um,o.third_party,o.email,o.windows].every(z=>z&&z.trim()!=="")}function K(o){const z=(o.processed_date_time?"processed":"unprocessed")==="processed"?"unprocess":"process";i()&&i()({detail:{employee:o,action:z}}),setTimeout(()=>{z==="process"?X.success("Employee no. "+o.employee_no+" marked as processed"):X.success("Employee no. "+o.employee_no+" marked as unprocessed")},300)}Et(()=>(typeof window<"u"&&window.addEventListener("resize",()=>{}),()=>{})),ua(()=>{}),bt(()=>(ra(s()),e(c),e(v)),()=>{b(r,[...s()].sort((o,n)=>{if(!e(c))return 0;let z=o[e(c)],V=n[e(c)];if(typeof z=="boolean"||typeof V=="boolean")return 0;if(e(c)==="date_hired"||e(c)==="last_day"||e(c)==="um"||e(c)==="third_party"||e(c)==="email"||e(c)==="windows"){const Me=new Date(z||"1900-01-01"),ze=new Date(V||"1900-01-01");return Me<ze?e(v)==="asc"?-1:1:Me>ze?e(v)==="asc"?1:-1:0}const m=String(z||""),T=String(V||"");return m<T?e(v)==="asc"?-1:1:m>T?e(v)==="asc"?1:-1:0}))}),bt(()=>(ra(s()),e(A)),()=>{s()}),_a(),Ye();var q=Vn();M("keydown",Kr,H);var de=_e(q);Vs(de,{});var te=_(de,2),ae=u(te),pe=u(ae),De=u(pe),ge=u(De),he=u(ge),re=u(he),oe=_(u(re)),ce=u(oe);{var C=o=>{var n=Ys();g(o,n)},I=(o,n)=>{{var z=m=>{var T=Ws();g(m,T)},V=m=>{var T=qs();g(m,T)};j(o,m=>{e(c)==="employee_no"&&e(v)==="desc"?m(z):m(V,!1)},n)}};j(ce,o=>{e(c)==="employee_no"&&e(v)==="asc"?o(C):o(I,!1)})}d(oe),d(re),d(he);var P=_(he),O=u(P),W=_(u(O)),Q=u(W);{var ue=o=>{var n=Zs();g(o,n)},be=(o,n)=>{{var z=m=>{var T=Gs();g(m,T)},V=m=>{var T=Ks();g(m,T)};j(o,m=>{e(c)==="date_hired"&&e(v)==="desc"?m(z):m(V,!1)},n)}};j(Q,o=>{e(c)==="date_hired"&&e(v)==="asc"?o(ue):o(be,!1)})}d(W),d(O),d(P);var ie=_(P,2),Le=u(ie),ve=_(u(Le)),Ne=u(ve);{var Re=o=>{var n=Qs();g(o,n)},rt=(o,n)=>{{var z=m=>{var T=Xs();g(m,T)},V=m=>{var T=Js();g(m,T)};j(o,m=>{e(c)==="name"&&e(v)==="desc"?m(z):m(V,!1)},n)}};j(Ne,o=>{e(c)==="name"&&e(v)==="asc"?o(Re):o(rt,!1)})}d(ve),d(Le),d(ie);var Ue=_(ie,3),qe=u(Ue),jt=_(u(qe)),Ta=u(jt);{var Ma=o=>{var n=$s();g(o,n)},ja=(o,n)=>{{var z=m=>{var T=en();g(m,T)},V=m=>{var T=tn();g(m,T)};j(o,m=>{e(c)==="department"&&e(v)==="desc"?m(z):m(V,!1)},n)}};j(Ta,o=>{e(c)==="department"&&e(v)==="asc"?o(Ma):o(ja,!1)})}d(jt),d(qe),d(Ue);var Ze=_(Ue),Nt=u(Ze),zt=_(u(Nt)),Na=u(zt);{var za=o=>{var n=an();g(o,n)},Aa=(o,n)=>{{var z=m=>{var T=rn();g(m,T)},V=m=>{var T=sn();g(m,T)};j(o,m=>{e(c)==="last_day"&&e(v)==="desc"?m(z):m(V,!1)},n)}};j(Na,o=>{e(c)==="last_day"&&e(v)==="asc"?o(za):o(Aa,!1)})}d(zt),d(Nt),d(Ze);var Ge=_(Ze),At=u(Ge),Ft=_(u(At)),Fa=u(Ft);{var Ba=o=>{var n=nn();g(o,n)},Ra=(o,n)=>{{var z=m=>{var T=on();g(m,T)},V=m=>{var T=ln();g(m,T)};j(o,m=>{e(c)==="last_day"&&e(v)==="desc"?m(z):m(V,!1)},n)}};j(Fa,o=>{e(c)==="last_day"&&e(v)==="asc"?o(Ba):o(Ra,!1)})}d(Ft),d(At),d(Ge);var Ke=_(Ge),Bt=u(Ke),Rt=_(u(Bt)),Ha=u(Rt);{var Ia=o=>{var n=dn();g(o,n)},Ua=(o,n)=>{{var z=m=>{var T=cn();g(m,T)},V=m=>{var T=un();g(m,T)};j(o,m=>{e(c)==="um"&&e(v)==="desc"?m(z):m(V,!1)},n)}};j(Ha,o=>{e(c)==="um"&&e(v)==="asc"?o(Ia):o(Ua,!1)})}d(Rt),d(Bt),d(Ke);var Qe=_(Ke),Ht=u(Qe),It=_(u(Ht)),Oa=u(It);{var Pa=o=>{var n=vn();g(o,n)},Va=(o,n)=>{{var z=m=>{var T=fn();g(m,T)},V=m=>{var T=pn();g(m,T)};j(o,m=>{e(c)==="last_day"&&e(v)==="desc"?m(z):m(V,!1)},n)}};j(Oa,o=>{e(c)==="last_day"&&e(v)==="asc"?o(Pa):o(Va,!1)})}d(It),d(Ht),d(Qe);var Xe=_(Qe),Ut=u(Xe),Ot=_(u(Ut)),Ya=u(Ot);{var Wa=o=>{var n=hn();g(o,n)},qa=(o,n)=>{{var z=m=>{var T=gn();g(m,T)},V=m=>{var T=_n();g(m,T)};j(o,m=>{e(c)==="last_day"&&e(v)==="desc"?m(z):m(V,!1)},n)}};j(Ya,o=>{e(c)==="last_day"&&e(v)==="asc"?o(Wa):o(qa,!1)})}d(Ot),d(Ut),d(Xe);var st=_(Xe),Pt=u(st),Vt=_(u(Pt)),Za=u(Vt);{var Ga=o=>{var n=mn();g(o,n)},Ka=(o,n)=>{{var z=m=>{var T=xn();g(m,T)},V=m=>{var T=yn();g(m,T)};j(o,m=>{e(c)==="last_day"&&e(v)==="desc"?m(z):m(V,!1)},n)}};j(Za,o=>{e(c)==="last_day"&&e(v)==="asc"?o(Ga):o(Ka,!1)})}d(Vt),d(Pt),d(st),wt(2),d(ge),d(De);var Yt=_(De);at(Yt,7,()=>e(r),o=>o.employee_no,(o,n)=>{var z=On(),V=u(z),m=u(V,!0);d(V);var T=_(V),Me=u(T,!0);d(T);var ze=_(T),Ae=u(ze,!0);d(ze);var Ce=_(ze),$a=u(Ce,!0);d(Ce);var nt=_(Ce),er=u(nt,!0);d(nt);var ot=_(nt),tr=u(ot,!0);d(ot);var it=_(ot),ar=u(it,!0);d(it);var lt=_(it),Wt=u(lt),rr=u(Wt);{var sr=L=>{var y=bn(),x=_e(y);we(x);var U=_(x,2);ke(x,()=>e(l),R=>b(l,R)),M("keydown",x,R=>{R.key==="Enter"&&D(e(n))}),M("click",U,()=>D(e(n))),g(L,y)},nr=L=>{var y=wn(),x=_e(y),U=u(x,!0);d(x);var R=_(x,2);$(se=>le(U,se),[()=>h(e(n).last_day)],je),M("click",R,()=>B(e(n),"last_day")),g(L,y)};j(rr,L=>{var y,x;((y=e(p))==null?void 0:y.id)===e(n).employee_no&&((x=e(p))==null?void 0:x.key)==="last_day"?L(sr):L(nr,!1)})}d(Wt),d(lt);var dt=_(lt),qt=u(dt),or=u(qt);{var ir=L=>{var y=kn(),x=_e(y);we(x);var U=_(x,2);ke(x,()=>e(l),R=>b(l,R)),M("keydown",x,R=>{R.key==="Enter"&&D(e(n))}),M("click",U,()=>D(e(n))),g(L,y)},lr=L=>{var y=En(),x=_e(y),U=u(x,!0);d(x);var R=_(x,2);$(se=>le(U,se),[()=>h(e(n).date_hr_emailed)],je),M("click",R,()=>B(e(n),"date_hr_emailed")),g(L,y)};j(or,L=>{var y,x;((y=e(p))==null?void 0:y.id)===e(n).employee_no&&((x=e(p))==null?void 0:x.key)==="date_hr_emailed"?L(ir):L(lr,!1)})}d(qt),d(dt);var ct=_(dt),Zt=u(ct),dr=u(Zt);{var cr=L=>{var y=Dn(),x=u(y),U=u(x);we(U);var R=_(U,2);d(x);var se=_(x,2);d(y),ke(U,()=>e(l),J=>b(l,J)),M("keydown",U,J=>{J.key==="Enter"&&D(e(n))}),M("click",R,()=>D(e(n))),M("click",se,()=>{b(l,"NO_ACCOUNT"),D(e(n))}),g(L,y)},ur=L=>{var y=Ln(),x=_e(y);{var U=ne=>{var me=Cn();g(ne,me)};j(x,ne=>{e(n).um_late&&ne(U)})}var R=_(x,2),se=u(R,!0);d(R);var J=_(R,2);$((ne,me)=>{Be(R,1,`inline-flex px-2 py-1 text-xs font-medium rounded-full ${ne??""}`),le(se,me)},[()=>S(e(n).um)?"bg-[#FFF3CD] text-[#856404]":e(n).um?"bg-[#CFEED8] text-[#1E9F37]":"bg-[#FED9DA] text-[#D7313E]",()=>S(e(n).um)?"No account":e(n).um?h(e(n).um):"N/A"],je),M("click",J,()=>B(e(n),"um")),g(L,y)};j(dr,L=>{var y,x;((y=e(p))==null?void 0:y.id)===e(n).employee_no&&((x=e(p))==null?void 0:x.key)==="um"?L(cr):L(ur,!1)})}d(Zt),d(ct);var ut=_(ct),Gt=u(ut),vr=u(Gt);{var fr=L=>{var y=Sn(),x=u(y),U=u(x);we(U);var R=_(U,2);d(x);var se=_(x,2);d(y),ke(U,()=>e(l),J=>b(l,J)),M("keydown",U,J=>{J.key==="Enter"&&D(e(n))}),M("click",R,()=>D(e(n))),M("click",se,()=>{b(l,"NO_ACCOUNT"),D(e(n))}),g(L,y)},pr=L=>{var y=Mn(),x=_e(y);{var U=ne=>{var me=Tn();g(ne,me)};j(x,ne=>{e(n).third_party_late&&ne(U)})}var R=_(x,2),se=u(R,!0);d(R);var J=_(R,2);$((ne,me)=>{Be(R,1,`inline-flex px-2 py-1 text-xs font-medium rounded-full ${ne??""}`),le(se,me)},[()=>S(e(n).third_party)?"bg-[#FFF3CD] text-[#856404]":e(n).third_party?"bg-[#CFEED8] text-[#1E9F37]":"bg-[#FED9DA] text-[#D7313E]",()=>S(e(n).third_party)?"No account":e(n).third_party?h(e(n).third_party):"N/A"],je),M("click",J,()=>B(e(n),"third_party")),g(L,y)};j(vr,L=>{var y,x;((y=e(p))==null?void 0:y.id)===e(n).employee_no&&((x=e(p))==null?void 0:x.key)==="third_party"?L(fr):L(pr,!1)})}d(Gt),d(ut);var vt=_(ut),Kt=u(vt),hr=u(Kt);{var gr=L=>{var y=jn(),x=u(y),U=u(x);we(U);var R=_(U,2);d(x);var se=_(x,2);d(y),ke(U,()=>e(l),J=>b(l,J)),M("keydown",U,J=>{J.key==="Enter"&&D(e(n))}),M("click",R,()=>D(e(n))),M("click",se,()=>{b(l,"NO_ACCOUNT"),D(e(n))}),g(L,y)},_r=L=>{var y=zn(),x=_e(y);{var U=ne=>{var me=Nn();g(ne,me)};j(x,ne=>{e(n).email_late&&ne(U)})}var R=_(x,2),se=u(R,!0);d(R);var J=_(R,2);$((ne,me)=>{Be(R,1,`inline-flex px-2 py-1 text-xs font-medium rounded-full ${ne??""}`),le(se,me)},[()=>S(e(n).email)?"bg-[#FFF3CD] text-[#856404]":e(n).email?"bg-[#CFEED8] text-[#1E9F37]":"bg-[#FED9DA] text-[#D7313E]",()=>S(e(n).email)?"No account":e(n).email?h(e(n).email):"N/A"],je),M("click",J,()=>B(e(n),"email")),g(L,y)};j(hr,L=>{var y,x;((y=e(p))==null?void 0:y.id)===e(n).employee_no&&((x=e(p))==null?void 0:x.key)==="email"?L(gr):L(_r,!1)})}d(Kt),d(vt);var ft=_(vt),Qt=u(ft),mr=u(Qt);{var xr=L=>{var y=An(),x=u(y),U=u(x);we(U);var R=_(U,2);d(x);var se=_(x,2);d(y),ke(U,()=>e(l),J=>b(l,J)),M("keydown",U,J=>{J.key==="Enter"&&D(e(n))}),M("click",R,()=>D(e(n))),M("click",se,()=>{b(l,"NO_ACCOUNT"),D(e(n))}),g(L,y)},yr=L=>{var y=Bn(),x=_e(y);{var U=ne=>{var me=Fn();g(ne,me)};j(x,ne=>{e(n).windows_late&&ne(U)})}var R=_(x,2),se=u(R,!0);d(R);var J=_(R,2);$((ne,me)=>{Be(R,1,`inline-flex px-2 py-1 text-xs font-medium rounded-full ${ne??""}`),le(se,me)},[()=>S(e(n).windows)?"bg-[#FFF3CD] text-[#856404]":e(n).windows?"bg-[#CFEED8] text-[#1E9F37]":"bg-[#FED9DA] text-[#D7313E]",()=>S(e(n).windows)?"No account":e(n).windows?h(e(n).windows):"N/A"],je),M("click",J,()=>B(e(n),"windows")),g(L,y)};j(mr,L=>{var y,x;((y=e(p))==null?void 0:y.id)===e(n).employee_no&&((x=e(p))==null?void 0:x.key)==="windows"?L(xr):L(yr,!1)})}d(Qt),d(ft);var pt=_(ft),br=u(pt);{var wr=L=>{var y=Rn();we(y),$(()=>xa(y,e(n).processed_date_time!==null)),M("change",y,()=>K(e(n))),g(L,y)},kr=L=>{var y=Hn();g(L,y)};j(br,L=>{fe(e(n))?L(wr):L(kr,!1)})}d(pt);var Xt=_(pt),Jt=u(Xt),Er=u(Jt);{var Dr=L=>{var y=In(),x=_e(y);ma(x);var U=_(x,2);ke(x,()=>e(l),R=>b(l,R)),M("click",U,()=>Z(e(n))),g(L,y)},Cr=L=>{var y=Un(),x=_e(y),U=u(x,!0);d(x);var R=_(x,2);$(se=>le(U,se),[()=>String(e(n).remarks||"N/A")],je),M("click",R,()=>F(e(n))),g(L,y)};j(Er,L=>{var y,x;((y=e(p))==null?void 0:y.id)===e(n).employee_no&&((x=e(p))==null?void 0:x.key)==="remarks"?L(Dr):L(Cr,!1)})}d(Jt),d(Xt),d(z),$((L,y,x,U,R,se,J)=>{le(m,L),le(Me,y),le(Ae,x),le($a,U),le(er,R),le(tr,se),le(ar,J)},[()=>String(e(n).employee_no||""),()=>h(e(n).date_hired),()=>String(e(n).cost_center||""),()=>String(e(n).name||""),()=>String(e(n).position_title||""),()=>String(e(n).rank||""),()=>String(e(n).department||"")],je),g(o,z)}),d(Yt),d(pe);var Qa=_(pe,2);{var Xa=o=>{var n=Pn();g(o,n)};j(Qa,o=>{e(r).length===0&&o(Xa)})}d(ae);var Ja=_(ae,2);St(Ja,o=>b(A,o),()=>e(A)),d(te),M("click",he,()=>w("employee_no")),M("click",P,()=>w("date_hired")),M("click",ie,()=>w("name")),M("click",Ue,()=>w("department")),M("click",Ze,()=>w("last_day")),M("click",Ge,()=>w("last_day")),M("click",Ke,()=>w("last_day")),M("click",Qe,()=>w("last_day")),M("click",Xe,()=>w("last_day")),M("click",st,()=>w("last_day")),g(a,q),Te()}function Wn(a,t,r,s){var i;b(t,""),r(),(i=e(s))==null||i.focus()}var qn=N('<div class="absolute inset-y-0 right-0 pr-3 flex items-center"><button class="text-gray-400 hover:text-gray-600 focus:outline-none transition-colors" aria-label="Clear search"><svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div>'),Zn=N('<div class="relative flex-1 min-w-[200px] max-w-md"><div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"><svg class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-4.35-4.35M17 10a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div> <input type="text" placeholder="Search" class="block w-full pl-10 pr-10 py-2.5 border border-gray-300 rounded-3xl"/> <!></div>');function Gn(a,t){Se(t,!0);let r=yt(""),s=yt(void 0);function i(){var l;(l=t.onsearch)==null||l.call(t,{searchTerm:e(r)})}Qr(()=>{i()});var f=Zn(),c=_(u(f),2);we(c),c.__input=i,St(c,l=>b(s,l),()=>e(s));var v=_(c,2);{var p=l=>{var k=qn(),A=u(k);A.__click=[Wn,r,i,s],d(k),g(l,k)};j(v,l=>{e(r)&&l(p)})}d(f),ke(c,()=>e(r),l=>b(r,l)),g(a,f),Te()}Jr(["input","click"]);const Da=6e4,Ca=36e5,la=Symbol.for("constructDateFrom");function La(a,t){return typeof a=="function"?a(t):a&&typeof a=="object"&&la in a?a[la](t):a instanceof Date?new a.constructor(t):new Date(t)}function da(a,t){return La(a,a)}function Kn(a,t){const r=()=>La(t==null?void 0:t.in,NaN),i=$n(a);let f;if(i.date){const l=eo(i.date,2);f=to(l.restDateString,l.year)}if(!f||isNaN(+f))return r();const c=+f;let v=0,p;if(i.time&&(v=ao(i.time),isNaN(v)))return r();if(i.timezone){if(p=ro(i.timezone),isNaN(p))return r()}else{const l=new Date(c+v),k=da(0);return k.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),k.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),k}return da(c+v+p)}const Je={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Qn=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Xn=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Jn=/^([+-])(\d{2})(?::?(\d{2}))?$/;function $n(a){const t={},r=a.split(Je.dateTimeDelimiter);let s;if(r.length>2)return t;if(/:/.test(r[0])?s=r[0]:(t.date=r[0],s=r[1],Je.timeZoneDelimiter.test(t.date)&&(t.date=a.split(Je.timeZoneDelimiter)[0],s=a.substr(t.date.length,a.length))),s){const i=Je.timezone.exec(s);i?(t.time=s.replace(i[1],""),t.timezone=i[1]):t.time=s}return t}function eo(a,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=a.match(r);if(!s)return{year:NaN,restDateString:""};const i=s[1]?parseInt(s[1]):null,f=s[2]?parseInt(s[2]):null;return{year:f===null?i:f*100,restDateString:a.slice((s[1]||s[2]).length)}}function to(a,t){if(t===null)return new Date(NaN);const r=a.match(Qn);if(!r)return new Date(NaN);const s=!!r[4],i=Ve(r[1]),f=Ve(r[2])-1,c=Ve(r[3]),v=Ve(r[4]),p=Ve(r[5])-1;if(s)return lo(t,v,p)?so(t,v,p):new Date(NaN);{const l=new Date(0);return!oo(t,f,c)||!io(t,i)?new Date(NaN):(l.setUTCFullYear(t,f,Math.max(i,c)),l)}}function Ve(a){return a?parseInt(a):1}function ao(a){const t=a.match(Xn);if(!t)return NaN;const r=mt(t[1]),s=mt(t[2]),i=mt(t[3]);return co(r,s,i)?r*Ca+s*Da+i*1e3:NaN}function mt(a){return a&&parseFloat(a.replace(",","."))||0}function ro(a){if(a==="Z")return 0;const t=a.match(Jn);if(!t)return 0;const r=t[1]==="+"?-1:1,s=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return uo(s,i)?r*(s*Ca+i*Da):NaN}function so(a,t,r){const s=new Date(0);s.setUTCFullYear(a,0,4);const i=s.getUTCDay()||7,f=(t-1)*7+r+1-i;return s.setUTCDate(s.getUTCDate()+f),s}const no=[31,null,31,30,31,30,31,31,30,31,30,31];function Sa(a){return a%400===0||a%4===0&&a%100!==0}function oo(a,t,r){return t>=0&&t<=11&&r>=1&&r<=(no[t]||(Sa(a)?29:28))}function io(a,t){return t>=1&&t<=(Sa(a)?366:365)}function lo(a,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function co(a,t,r){return a===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&a>=0&&a<25}function uo(a,t){return t>=0&&t<=59}var vo=N('<label class="field-option svelte-1jjbium"><input type="radio" name="filter" class="svelte-1jjbium"/> </label>'),fo=N('<div class="date-range svelte-1jjbium"><input type="date" class="svelte-1jjbium"/> <input type="date" class="svelte-1jjbium"/></div>'),po=N('<div class="field-grid mb-2 svelte-1jjbium" style="gap: 0.25rem 0.70rem;"><label class="field-option svelte-1jjbium"><input type="radio" name="status-filter" value="processed" class="svelte-1jjbium"/> <span class="inline-block px-5 py-1.5 rounded-full text-sm font-[Open_Sans] font-550 bg-[#CFEED8] text-[#1E9F37]">Processed</span></label> <label class="field-option svelte-1jjbium"><input type="radio" name="status-filter" value="unprocessed" class="svelte-1jjbium"/> <span class="inline-block px-3 py-1.5 rounded-full text-sm font-[Open_Sans] font-550 bg-[#FED9DA] text-[#D7313E]">Unprocessed</span></label></div>'),ho=N('<div class="filter-input svelte-1jjbium"><input type="text" class="w-full px-2 py-1 border border-gray-300 rounded mb-0.25"/></div>'),go=N('<div class="filter-tag svelte-1jjbium"> <button class="svelte-1jjbium">×</button></div>'),_o=N('<div class="active-filters svelte-1jjbium"><!> <button class="clear-button svelte-1jjbium">Clear All</button></div>'),mo=N('<div class="dropdown-panel svelte-1jjbium"><button class="close-button svelte-1jjbium">✕</button> <div class="field-grid svelte-1jjbium"></div> <hr class="divider svelte-1jjbium"/> <!> <!></div>'),xo=N('<div class="dropdown svelte-1jjbium"><button class="filter-button svelte-1jjbium"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="svelte-1jjbium"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"></path></svg> Filter</button> <!></div>');function yo(a,t){Se(t,!1);let r=ye(t,"employees",24,()=>[]);const s=Tr();let i=ee(!1),f=ee(""),c=ee(""),v=ee(""),p=ee(""),l=ee([]);const k=["Employee No.","Date Hired","Cost Center","Name","Position","Rank","Department","Last Day","Batch Deactivation","3rd Party Systems","Emails","Windows","HR Email","Status","Remarks"];function A(){b(i,!e(i))}function w(K){b(f,K),b(c,""),b(v,""),b(p,"")}function h(){if(["Date Hired","Last Day","Batch Deactivation","3rd Party Systems","Emails","Windows","HR Email"].includes(e(f))){if(e(v)&&e(p)){const K=new Date(e(v)).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),q=new Date(e(p)).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),de=`${K} to ${q}`;e(l).find(ae=>ae.field===e(f)&&ae.value===de)||(b(l,[...e(l),{field:e(f),value:de}]),S()),b(f,""),b(v,""),b(p,"")}}else e(f)&&e(c)&&(e(l).find(q=>q.field===e(f)&&q.value===e(c))||(b(l,[...e(l),{field:e(f),value:e(c)}]),S()),b(f,""),b(c,""))}function E(K){b(l,e(l).filter((q,de)=>de!==K)),S()}function B(){b(i,!1),b(f,""),b(c,"")}function D(){b(l,[]),S()}function S(){let K=r();e(l).forEach(q=>{const de=Y(q.field);K=K.filter(te=>{var De;const ae=(De=te[de])==null?void 0:De.toString().toLowerCase(),pe=q.value.toLowerCase();if(q.field==="Employee No."||q.field==="Cost Center"){const ge=ae.replace(/^0+/,""),he=pe.replace(/^0+/,"");return ge===he}if(["Date Hired","Last Day","Batch Deactivation","3rd Party Systems","Emails","Windows","HR Email"].includes(q.field)){const[ge,he]=q.value.split(" to ");try{const re=Kn(te[de]);return re>=new Date(ge)&&re<=new Date(he)}catch{return!1}}return q.field==="Status"?(ae?"processed":"unprocessed")===pe.toLowerCase():ae==null?void 0:ae.toString().toLowerCase().includes(pe)})}),s("filter",{filtered:K})}function Y(K){return{"Employee No.":"employee_no","Date Hired":"date_hired","Cost Center":"cost_center",Name:"name",Position:"position_title",Rank:"rank",Department:"department","Last Day":"last_day","Batch Deactivation":"um","3rd Party Systems":"third_party",Emails:"email",Windows:"windows","HR Email":"date_hr_emailed",Status:"processed_date_time",Remarks:"remarks"}[K]||K}Ye();var Z=xo(),F=u(Z),H=_(F,2);{var fe=K=>{var q=mo(),de=u(q),te=_(de,2);at(te,5,()=>k,sa,(re,oe)=>{var ce=vo(),C=u(ce);we(C);var I=_(C);d(ce),$(()=>{ts(C,e(oe)),xa(C,e(f)===e(oe)),le(I,` ${e(oe)??""}`)}),M("change",C,()=>w(e(oe))),g(re,ce)}),d(te);var ae=_(te,4);{var pe=re=>{var oe=fo(),ce=u(oe);we(ce);var C=_(ce,2);we(C),d(oe),ke(ce,()=>e(v),I=>b(v,I)),M("change",ce,()=>{e(v)&&e(p)&&h()}),ke(C,()=>e(p),I=>b(p,I)),M("change",C,()=>{e(v)&&e(p)&&h()}),g(re,oe)},De=(re,oe)=>{{var ce=I=>{var P=po(),O=u(P),W=u(O);wt(2),d(O);var Q=_(O,2),ue=u(Q);wt(2),d(Q),d(P),M("change",W,()=>{b(c,"Processed"),h()}),M("change",ue,()=>{b(c,"Unprocessed"),h()}),g(I,P)},C=(I,P)=>{{var O=W=>{var Q=ho(),ue=u(Q);we(ue),d(Q),$(()=>as(ue,"placeholder",`Enter ${e(f)}...`)),ke(ue,()=>e(c),be=>b(c,be)),M("keydown",ue,be=>{be.key==="Enter"&&h()}),g(W,Q)};j(I,W=>{e(f)&&W(O)},P)}};j(re,I=>{e(f)==="Status"?I(ce):I(C,!1)},oe)}};j(ae,re=>{["Date Hired","Last Day","Batch Deactivation","3rd Party Systems","Emails","Windows","HR Email"].includes(e(f))?re(pe):re(De,!1)})}var ge=_(ae,2);{var he=re=>{var oe=_o(),ce=u(oe);at(ce,1,()=>e(l),sa,(I,P,O)=>{var W=go(),Q=u(W),ue=_(Q);d(W),$(()=>le(Q,`${e(P).field??""} = ${e(P).value??""} `)),M("click",ue,()=>E(O)),g(I,W)});var C=_(ce,2);d(oe),M("click",C,D),g(re,oe)};j(ge,re=>{e(l).length>0&&re(he)})}d(q),M("click",de,B),g(K,q)};j(H,K=>{e(i)&&K(fe)})}d(Z),M("click",F,A),g(a,Z),Te()}var bo=N('<ul class="absolute right-0 mt-1 w-36 z-50 bg-white border border-gray-300 rounded-md shadow-md z-10 text-sm font-[Open_Sans]"><li><button type="button" class="w-full text-left px-4 py-2 hover:bg-gray-100">Export as CSV</button></li> <li><button type="button" class="w-full text-left px-4 py-2 hover:bg-gray-100">Export as XLSX</button></li></ul>'),wo=N('<div class="flex items-center gap-2 relative"><label for="start-date" class="text-sm text-gray-600 font-[Open_Sans]">From:</label> <input id="start-date" type="date" class="border border-gray-300 px-3 py-1 rounded-full text-sm font-[Open_Sans] uppercase"/> <label for="end-date" class="text-sm text-gray-600 font-[Open_Sans]">To:</label> <input id="end-date" type="date" class="border border-gray-300 px-3 py-1 rounded-full text-sm font-[Open_Sans] uppercase"/> <div class="relative"><button><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"></path></svg> Export</button> <!></div></div>');function ko(a,t){Se(t,!1);let r=ee(""),s=ee(""),i=ee(!1),f=ee(!1);async function c(D){if(!e(r)||!e(s)){X.error("Please select both a start and end date.");return}try{const S=new Date(e(r)).toISOString(),Y=new Date(e(s)).toISOString(),Z=await fetch(`${Ee}/resignees/report?start_date=${S}&end_date=${Y}&format=${D}`,{credentials:"include"});if(!Z.ok)throw new Error("Failed to fetch report from backend");const F=await Z.blob(),H=URL.createObjectURL(F),fe=document.createElement("a");fe.href=H,fe.download=`resignee_report_${e(r)}_to_${e(s)}.${D}`,fe.click(),URL.revokeObjectURL(H),b(i,!0)}catch(S){console.error("Error downloading backend report:",S),X.error("No dates were found within the specified date range")}}function v(){b(f,!e(f))}function p(){setTimeout(()=>{b(f,!1)},150)}Ye();var l=wo(),k=_(u(l),2);we(k);var A=_(k,4);we(A);var w=_(A,2),h=u(w),E=_(h,2);{var B=D=>{var S=bo(),Y=u(S),Z=u(Y);d(Y);var F=_(Y,2),H=u(F);d(F),d(S),M("click",Z,()=>c("csv")),M("click",H,()=>c("xlsx")),g(D,S)};j(E,D=>{e(f)&&D(B)})}d(w),d(l),$(()=>Be(h,1,`flex items-center gap-2 px-4.25 py-1.75 rounded-md text-sm font-[Open_Sans] hover:bg-blue-600 transition ${e(i),"bg-blue-500 text-white"}`)),ke(k,()=>e(r),D=>b(r,D)),ke(A,()=>e(s),D=>b(s,D)),M("click",h,v),M("blur",w,p),g(a,l),Te()}var Eo=N('<button class="flex items-center gap-2 px-3 py-1.75 bg-red-500 text-white rounded-md hover:bg-red-600 transition"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"></path></svg> Logout</button>');function Do(a,t){Se(t,!1);async function r(){try{const i=await fetch(`${Ee}/logout`,{method:"POST",credentials:"include"});if(!i.ok){const f=await i.text();console.error("Logout failed:",f);return}kt("/")}catch(i){console.error("Logout error:",i)}}Ye();var s=Eo();M("click",s,r),g(a,s),Te()}var Co=N('<div class="flex items-center justify-center py-12"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div> <span class="ml-3 text-gray-600">Loading employees...</span></div>'),Lo=N('<div class="flex items-center justify-center py-12"><div class="text-red-600 bg-red-50 px-4 py-2 rounded-lg"> </div></div>'),So=N('<div class="mt-4 text-sm text-gray-600"> </div>'),To=N('<p class="mt-2 text-sm text-gray-700"> </p>'),Mo=N('<main class="min-h-screen bg-gray-50 p-6"><div class="max-w-7xl mx-auto"><div class="flex flex-wrap items-center justify-between gap-4 mb-6"><img src="/assets/aub-logo-2.png" alt="AUB logo" width="45"/> <div class="flex items-center gap-4 flex-1"><!></div> <div class="flex gap-2"><!> <!></div></div> <!> <!></div> <form><div class="mt-4 max-w-7xl mx-auto mb-6"><textarea rows="5" class="block w-full p-4 text-gray-900 border border-gray-300 rounded-lg bg-white text-base resize-y" placeholder="Paste resignee details here..."></textarea> <div class="mt-4 flex justify-between items-center"><button type="submit" class="px-4.25 py-1.5 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition">Submit</button> <!></div> <!></div></form></main>');function Oo(a,t){Se(t,!1);let r=ee([]),s=ee([]),i=ee(""),f=ee(""),c="all",v=ee(!0),p=ee(""),l=ee("");Et(async()=>{try{(await fetch(`${Ee}/check-auth`,{method:"GET",credentials:"include"})).ok?await k():(console.log("Unauthorized. Redirecting to login."),kt("/"))}catch{console.error("Fetch failed (likely CORS or server down). Redirecting to login."),kt("/")}});async function k(){try{b(v,!0),b(i,""),console.log("Attempting to fetch from:",`${Ee}/resignees`);const C=new AbortController,I=setTimeout(()=>C.abort(),1e4),P=await fetch(`${Ee}/resignees`,{signal:C.signal,credentials:"include"});if(clearTimeout(I),console.log("Response status:",P.status),console.log("Response ok:",P.ok),!P.ok){const W=await P.text();throw console.log("Error response:",W),new Error(`HTTP ${P.status}: ${W}`)}const O=await P.json();console.log("Received data:",O),console.log("Data length:",O==null?void 0:O.length),b(r,O||[]),b(v,!1)}catch(C){console.error("Load employees error:",C),C instanceof Error?C.name==="AbortError"?b(i,"Request timed out. Please check if the server is running."):C.message.includes("fetch")?b(i,"Cannot connect to server. Please check if the server is running on http://localhost:8000"):b(i,C.message):b(i,"An unexpected error occurred"),b(v,!1)}}function A(C){b(f,C.searchTerm)}function w(C){b(s,C.detail.filtered)}async function h(){var W,Q,ue,be;const C=e(p).split(`
`),I=20;for(;C.length&&C[C.length-1].trim()==="";)C.pop();const P=C.length%I;if(P!==19&&P!==0){X.error(`Invalid input: expected 20 lines per employee (10 fields, each followed by a blank line), Got ${C.length} lines.`);return}const O=Math.floor(C.length/I)+(P===19?1:0);for(let ie=0;ie<O;ie++){const Le=ie*I;for(let ve=0;ve<19;ve++){const Ne=Le+ve,Re=C[Ne];if(ve%2===0){if(!Re||Re.trim()===""){X.error(`Employee ${ie+1}, line ${ve+1} is empty. Expected a data field.`);return}}else if(Re.trim()!==""){X.error(`Employee ${ie+1}, line ${ve+1} must be blank (used for spacing).`);return}}if(ie<O-1){const ve=C[Le+19];if(ve&&ve.trim()!==""){X.error(`Employee ${ie+1}, line 20 must be blank (used for spacing).`);return}}}try{const ie=await fetch(`${Ee}/resignees`,{method:"POST",headers:{"Content-Type":"text/plain"},body:e(p).trimEnd(),credentials:"include"});if(!ie.ok){const ve=await ie.text();throw new Error(`HTTP error! status: ${ie.status} - ${ve}`)}await k(),b(p,"");const Le=[];for(let ve=0;ve<O;ve++){const Ne=ve*I,Re=((W=C[Ne])==null?void 0:W.trim())??"",rt=((Q=C[Ne+6])==null?void 0:Q.trim())??"",Ue=((ue=C[Ne+8])==null?void 0:ue.trim())??"",qe=((be=C[Ne+10])==null?void 0:be.trim())??"";Le.push(`${Re} – ${Ue} ${qe} ${rt}`)}X.success(`Successfully added ${O} employee(s)!
${Le.join(`
`)}`)}catch(ie){const Le=ie instanceof Error?ie.message:String(ie);X.error(`Failed to add employee(s): ${Le}`)}}async function E(C){const{employee:I,action:P}=C.detail;try{let O,W;P?(O=P,W=P):I.processed_date_time?(O="unprocess",W="unprocess"):(O="process",W="process");const Q=await fetch(`${Ee}/resignees/${I.employee_no}/${O}`,{method:"PUT",credentials:"include"});if(!Q.ok){const be=await Q.text();throw new Error(`Failed to ${W} employee: ${Q.status} - ${be}`)}await k();const ue=W==="process"?"processed":"unprocessed"}catch(O){const W=P||(I.processed_date_time?"unprocess":"process"),Q=O instanceof Error?O.message:String(O);b(l,`Error ${W}ing employee: ${Q}`)}}bt(()=>(e(f),e(r)),()=>{const C={january:0,jan:0,february:1,feb:1,march:2,mar:2,april:3,apr:3,may:4,june:5,jun:5,july:6,jul:6,august:7,aug:7,september:8,sep:8,october:9,oct:9,november:10,nov:10,december:11,dec:11},I=e(f).toLowerCase().trim(),P=C[I];b(s,e(r).filter(O=>{O.processed_date_time;const W=c==="all",Q=Le=>String(Le||"").toLowerCase().includes(I),ue=new Date(O.date_hired),be=new Date(O.last_day),ie=P!==void 0&&(ue.getMonth()===P||be.getMonth()===P);return(I===""||Q(O.name)||Q(O.employee_no)||Q(O.department)||Q(O.position_title)||ie)&&W}))}),_a(),Ye();var B=Mo();$r(C=>{Xr.title="AUB Resignee Tracker"});var D=u(B),S=u(D),Y=_(u(S),2),Z=u(Y);Gn(Z,{onsearch:A}),d(Y);var F=_(Y,2),H=u(F);yo(H,{get employees(){return e(r)},$$events:{filter:w}});var fe=_(H,2);ko(fe,{}),d(F),d(S);var K=_(S,2);{var q=C=>{var I=Co();g(C,I)},de=(C,I)=>{{var P=W=>{var Q=Lo(),ue=u(Q),be=u(ue);d(ue),d(Q),$(()=>le(be,`Error: ${e(i)??""}`)),g(W,Q)},O=W=>{Yn(W,{get employees(){return e(s)},onstatustoggle:E,onEmployeeUpdate:()=>{k()}})};j(C,W=>{e(i)?W(P):W(O,!1)},I)}};j(K,C=>{e(v)?C(q):C(de,!1)})}var te=_(K,2);{var ae=C=>{var I=So(),P=u(I);d(I),$(()=>le(P,`Showing ${e(s).length??""} of ${e(r).length??""} employees`)),g(C,I)};j(te,C=>{!e(v)&&!e(i)&&C(ae)})}d(D);var pe=_(D,2),De=u(pe),ge=u(De);ma(ge);var he=_(ge,2),re=_(u(he),2);Do(re,{}),d(he);var oe=_(he,2);{var ce=C=>{var I=To(),P=u(I,!0);d(I),$(()=>le(P,e(l))),g(C,I)};j(oe,C=>{e(l)&&C(ce)})}d(De),d(pe),d(B),ke(ge,()=>e(p),C=>b(p,C)),M("submit",pe,ls(h)),g(a,B),Te()}export{Oo as component};

import{f as z,a as g,c as Xe,t as Lr,d as G}from"../chunks/CO5X12ro.js";import{i as Ie}from"../chunks/BhebSDih.js";import{d as Sr,g as pt,w as ia,a as la,o as xt,c as Tr}from"../chunks/hoQZN_2d.js";import{k as ct,h as ze,a6 as Mr,a5 as jr,e as Nr,d as zr,g as e,R as Te,f as Ar,i as Fr,j as Qt,l as ut,u as Re,an as Br,n as da,o as ca,q as Rr,aq as ua,a4 as Hr,m as $,aB as Xt,aC as vt,a8 as Jt,aD as bt,aE as $t,aF as Ir,af as Ur,aG as Or,I as Pr,aH as yt,aI as Vr,ak as Wr,aJ as va,L as Yr,aK as qr,t as J,p as Ee,F as pe,ae as _e,a as Ce,c as u,r as d,s as _,V as Zr,G as fa,aL as Gr,ac as ht,b as y,aM as gt,B as ea,aN as pa,aO as Kr,aP as _t,x as Qr,$ as Xr}from"../chunks/DZq78Ezw.js";import{s as oe,e as M,r as ha,d as Jr,h as $r}from"../chunks/sKjDUr9k.js";import{i as N}from"../chunks/BQGRK2Qk.js";import{s as Be,a as es,c as Ne,r as be,b as ye,d as ga,B as ke,e as ts,f as as}from"../chunks/CdqjsRcG.js";import{g as mt}from"../chunks/CwJirQ_7.js";import{p as me,c as wt,s as Ke,b as kt,a as rs,d as ss}from"../chunks/Byz307Fg.js";function ta(a,t){return t}function ns(a,t,r,s){for(var i=[],f=t.length,c=0;c<f;c++)Ir(t[c].e,i,!0);var v=f>0&&i.length===0&&r!==null;if(v){var p=r.parentNode;Ur(p),p.append(r),s.clear(),je(a,t[0].prev,t[f-1].next)}Or(i,()=>{for(var l=0;l<f;l++){var k=t[l];v||(s.delete(k.k),je(a,k.prev,k.next)),Pr(k.e,!v)}})}function Je(a,t,r,s,i,f=null){var c=a,v={flags:t,items:new Map,first:null},p=(t&va)!==0;if(p){var l=a;c=ze?ct(Mr(l)):l.appendChild(jr())}ze&&Nr();var k=null,A=!1,w=Te(()=>{var h=r();return Hr(h)?h:h==null?[]:ua(h)});zr(()=>{var h=e(w),D=h.length;if(A&&D===0)return;A=D===0;let B=!1;if(ze){var E=Ar(c)===Fr;E!==(D===0)&&(c=Qt(),ct(c),ut(!1),B=!0)}if(ze){for(var S=null,P,q=0;q<D;q++){if(Re.nodeType===8&&Re.data===Br){c=Re,B=!0,ut(!1);break}var F=h[q],H=s(F,q);P=_a(Re,v,S,null,F,H,q,i,t,r),v.items.set(H,P),S=P}D>0&&ct(Qt())}ze||os(h,v,c,i,t,s,r),f!==null&&(D===0?k?da(k):k=ca(()=>f(c)):k!==null&&Rr(k,()=>{k=null})),B&&ut(!0),e(w)}),ze&&(c=Re)}function os(a,t,r,s,i,f,c){var ve,ue,ae,ne;var v=(i&qr)!==0,p=(i&(yt|bt))!==0,l=a.length,k=t.items,A=t.first,w=A,h,D=null,B,E=[],S=[],P,q,F,H;if(v)for(H=0;H<l;H+=1)P=a[H],q=f(P,H),F=k.get(q),F!==void 0&&((ve=F.a)==null||ve.measure(),(B??(B=new Set)).add(F));for(H=0;H<l;H+=1){if(P=a[H],q=f(P,H),F=k.get(q),F===void 0){var de=w?w.e.nodes_start:r;D=_a(de,t,D,D===null?t.first:D.next,P,q,H,s,i,c),k.set(q,D),E=[],S=[],w=D.next;continue}if(p&&is(F,P,H,i),(F.e.f&vt)!==0&&(da(F.e),v&&((ue=F.a)==null||ue.unfix(),(B??(B=new Set)).delete(F))),F!==w){if(h!==void 0&&h.has(F)){if(E.length<S.length){var K=S[0],Y;D=K.prev;var ie=E[0],ee=E[E.length-1];for(Y=0;Y<E.length;Y+=1)aa(E[Y],K,r);for(Y=0;Y<S.length;Y+=1)h.delete(S[Y]);je(t,ie.prev,ee.next),je(t,D,ie),je(t,ee,K),w=K,D=ee,H-=1,E=[],S=[]}else h.delete(F),aa(F,w,r),je(t,F.prev,F.next),je(t,F,D===null?t.first:D.next),je(t,D,F),D=F;continue}for(E=[],S=[];w!==null&&w.k!==q;)(w.e.f&vt)===0&&(h??(h=new Set)).add(w),S.push(w),w=w.next;if(w===null)continue;F=w}E.push(F),D=F,w=F.next}if(w!==null||h!==void 0){for(var te=h===void 0?[]:ua(h);w!==null;)(w.e.f&vt)===0&&te.push(w),w=w.next;var ce=te.length;if(ce>0){var we=(i&va)!==0&&l===0?r:null;if(v){for(H=0;H<ce;H+=1)(ae=te[H].a)==null||ae.measure();for(H=0;H<ce;H+=1)(ne=te[H].a)==null||ne.fix()}ns(t,te,we,k)}}v&&Yr(()=>{var le;if(B!==void 0)for(F of B)(le=F.a)==null||le.apply()}),Jt.first=t.first&&t.first.e,Jt.last=D&&D.e}function is(a,t,r,s){(s&yt)!==0&&$t(a.v,t),(s&bt)!==0?$t(a.i,r):a.i=r}function _a(a,t,r,s,i,f,c,v,p,l){var k=(p&yt)!==0,A=(p&Vr)===0,w=k?A?$(i,!1,!1):Xt(i):i,h=(p&bt)===0?c:Xt(c),D={i:h,v:w,k:f,a:null,e:null,prev:r,next:s};try{return D.e=ca(()=>v(a,w,h,l),ze),D.e.prev=r&&r.e,D.e.next=s&&s.e,r===null?t.first=D:(r.next=D,r.e.next=D.e),s!==null&&(s.prev=D,s.e.prev=D.e),D}finally{}}function aa(a,t,r){for(var s=a.next?a.next.e.nodes_start:r,i=t?t.e.nodes_start:r,f=a.e.nodes_start;f!==s;){var c=Wr(f);i.before(f),f=c}}function je(a,t,r){t===null?a.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function ls(a){return function(...t){var r=t[0];return r.preventDefault(),a==null?void 0:a.apply(this,t)}}function ds(a,t,r,s){var i,f,c=!1,v=r.length>=2,p=(D,B,E)=>{if(i=B,v&&(f=D),!c){let S=t(D,B,E);if(t.length<2)B(S);else return S}c=!1},l=Sr(a,p,s),k=!Array.isArray(a);function A(D){var B=r(D,f);k?(c=!0,a.set(B)):B.forEach((E,S)=>{c=!0,a[S].set(E)}),c=!1}var w=!1;function h(D){var B,E,S,P;if(w){P=D(pt(l)),i(P);return}var q=l.subscribe(F=>{w?B?E=!0:B=!0:S=F});P=D(S),w=!0,i(P),q(),w=!1,E&&(P=pt(l)),B&&A(P)}return{subscribe:l.subscribe,set(D){h(()=>D)},update:h}}const cs=20,Ae=ia([]),Dt=ia(null),Qe=new Map,ra=a=>{if(Qe.has(a))return;const t=setTimeout(()=>{Qe.delete(a),xa(a)},1e3);Qe.set(a,t)},us=a=>{const t=Qe.get(a);t&&clearTimeout(t)};function ma(a,t=!0){t&&a.id&&us(a.id),Ae.update(r=>r.map(s=>s.id===a.id?{...s,...a}:s))}function vs(a){Ae.update(t=>[a,...t].slice(0,cs))}function fs(a){pt(Ae).find(t=>t.id===a.id)?ma(a):vs(a)}function ps(a){Ae.update(t=>(a?ra(a):t.forEach(r=>{ra(r.id)}),t.map(r=>r.id===a||a===void 0?{...r,visible:!1}:r)))}function xa(a){Ae.update(t=>a===void 0?[]:t.filter(r=>r.id!==a))}function hs(a){Dt.set(a)}function gs(a){let t;Dt.update(r=>(t=a-(r||0),null)),Ae.update(r=>r.map(s=>({...s,pauseDuration:s.pauseDuration+t})))}const _s={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3};function ms(a={}){return{toasts:ds(Ae,r=>r.map(s=>{var i,f;return{...a,...a[s.type],...s,duration:s.duration||((i=a[s.type])==null?void 0:i.duration)||(a==null?void 0:a.duration)||_s[s.type],style:[a.style,(f=a[s.type])==null?void 0:f.style,s.style].join(";")}}),r=>r),pausedAt:Dt}}const xs=a=>typeof a=="function",sa=(a,t)=>xs(a)?a(t):a,bs=(()=>{let a=0;return()=>(a+=1,a.toString())})(),ba=(()=>{let a;return()=>{if(a===void 0&&typeof window<"u"){const t=matchMedia("(prefers-reduced-motion: reduce)");a=!t||t.matches}return a}})(),ys=(a,t="blank",r)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:a,pauseDuration:0,icon:r==null?void 0:r.icon,duration:r==null?void 0:r.duration,iconTheme:r==null?void 0:r.iconTheme,position:r==null?void 0:r.position,props:r==null?void 0:r.props,id:(r==null?void 0:r.id)||bs()}),Ue=a=>(t,r)=>{const s=ys(t,a,r);return fs(s),s.id},he=(a,t)=>Ue("blank")(a,t);he.error=Ue("error");he.success=Ue("success");he.loading=Ue("loading");he.custom=Ue("custom");he.dismiss=a=>{ps(a)};he.remove=a=>xa(a);he.promise=(a,t,r)=>{const s=he.loading(t.loading,{...r,...r==null?void 0:r.loading});return a.then(i=>(he.success(sa(t.success,i),{id:s,...r,...r==null?void 0:r.success}),i)).catch(i=>{he.error(sa(t.error,i),{id:s,...r,...r==null?void 0:r.error})}),a};function ws(a,t,r){const{reverseOrder:s,gutter:i=8,defaultPosition:f}=r||{},c=t.filter(k=>(k.position||f)===(a.position||f)&&k.height),v=c.findIndex(k=>k.id===a.id),p=c.filter((k,A)=>A<v&&k.visible).length;return c.filter(k=>k.visible).slice(...s?[p+1]:[0,p]).reduce((k,A)=>k+(A.height||0)+i,0)}const ks={startPause(){hs(Date.now())},endPause(){gs(Date.now())},updateHeight:(a,t)=>{ma({id:a,height:t},!1)},calculateOffset:ws};function Ds(a){const{toasts:t,pausedAt:r}=ms(a),s=new Map;let i;const f=[r.subscribe(c=>{if(c){for(const[,v]of s)clearTimeout(v);s.clear()}i=c}),t.subscribe(c=>{if(i)return;const v=Date.now();for(const p of c){if(s.has(p.id)||p.duration===1/0)continue;const l=(p.duration||0)+p.pauseDuration-(v-p.createdAt);if(l<0)return p.visible&&he.dismiss(p.id),null;s.set(p.id,setTimeout(()=>he.dismiss(p.id),l))}})];return la(()=>{for(const c of f)c()}),{toasts:t,handlers:ks}}var Es=z('<div class="svelte-11kvm4p"></div>');function Cs(a,t){let r=me(t,"primary",3,"#61d345"),s=me(t,"secondary",3,"#fff");var i=Es();let f;J(()=>f=Be(i,"",f,{"--primary":r(),"--secondary":s()})),g(a,i)}var Ls=z('<div class="svelte-1ee93ns"></div>');function Ss(a,t){let r=me(t,"primary",3,"#ff4b4b"),s=me(t,"secondary",3,"#fff");var i=Ls();let f;J(()=>f=Be(i,"",f,{"--primary":r(),"--secondary":s()})),g(a,i)}var Ts=z('<div class="svelte-1j7dflg"></div>');function Ms(a,t){let r=me(t,"primary",3,"#616161"),s=me(t,"secondary",3,"#e0e0e0");var i=Ts();let f;J(()=>f=Be(i,"",f,{"--primary":r(),"--secondary":s()})),g(a,i)}var js=z('<div class="animated svelte-1kgeier"> </div>'),Ns=z('<div class="status svelte-1kgeier"><!></div>'),zs=z('<div class="indicator svelte-1kgeier"><!> <!></div>');function ya(a,t){Ee(t,!0);let r=_e(()=>t.toast.type),s=_e(()=>t.toast.icon),i=_e(()=>t.toast.iconTheme);var f=Xe(),c=pe(f);{var v=l=>{var k=js(),A=u(k,!0);d(k),J(()=>oe(A,e(s))),g(l,k)},p=(l,k)=>{{var A=h=>{var D=Xe(),B=pe(D);wt(B,()=>e(s),(E,S)=>{S(E,{})}),g(h,D)},w=(h,D)=>{{var B=E=>{var S=zs(),P=u(S);Ms(P,Ke(()=>e(i)));var q=_(P,2);{var F=H=>{var de=Ns(),K=u(de);{var Y=ee=>{Ss(ee,Ke(()=>e(i)))},ie=ee=>{Cs(ee,Ke(()=>e(i)))};N(K,ee=>{e(r)==="error"?ee(Y):ee(ie,!1)})}d(de),g(H,de)};N(q,H=>{e(r)!=="loading"&&H(F)})}d(S),g(E,S)};N(h,E=>{e(r)!=="blank"&&E(B)},D)}};N(l,h=>{typeof e(s)<"u"?h(A):h(w,!1)},k)}};N(c,l=>{typeof e(s)=="string"?l(v):l(p,!1)})}g(a,f),Ce()}var As=z("<div><!></div>");function Et(a,t){Ee(t,!0);let r=Zr(t.toast.message);var s=As();es(s,()=>({class:"message",...t.toast.ariaProps}),void 0,"svelte-1nauejd");var i=u(s);{var f=v=>{var p=Lr();J(()=>oe(p,t.toast.message)),g(v,p)},c=v=>{var p=Xe(),l=pe(p);wt(l,()=>r,(k,A)=>{A(k,Ke({get toast(){return t.toast}},()=>t.toast.props))}),g(v,p)};N(i,v=>{typeof t.toast.message=="string"?v(f):v(c,!1)})}d(s),g(a,s),Ce()}const Fs=(a,t=fa)=>{var r=Bs(),s=pe(r);ya(s,{get toast(){return t().toast}});var i=_(s,2);Et(i,{get toast(){return t().toast}}),g(a,r)};var Bs=z("<!> <!>",1),Rs=z("<div><!></div>");function Hs(a,t){Ee(t,!0);let r=me(t,"position",3,void 0),s=me(t,"Component",3,void 0),i=_e(()=>(t.toast.position||r()||"top-center").includes("top")),f=_e(()=>e(i)?1:-1);const c=_e(()=>ba()?["fadeIn","fadeOut"]:["enter","exit"]),v=_e(()=>Gr(e(c),2)),p=_e(()=>e(v)[0]),l=_e(()=>e(v)[1]);let k=_e(()=>t.toast.visible?e(p):e(l));var A=Rs();let w;var h=u(A);{var D=E=>{var S=Xe(),P=pe(S);wt(P,s,(q,F)=>{F(q,{$$slots:{icon:(H,de)=>{ya(H,{get toast(){return t.toast},slot:"icon"})},message:(H,de)=>{Et(H,{get toast(){return t.toast},slot:"message"})}}})}),g(E,S)},B=E=>{Fs(E,()=>({toast:t.toast}))};N(h,E=>{s()?E(D):E(B,!1)})}d(A),J(()=>{Ne(A,1,`base ${(t.toast.height?e(k):"transparent")??""} ${(t.toast.className||"")??""}`,"svelte-1c9srrs"),w=Be(A,t.toast.style,w,{"--factor":e(f)})}),g(a,A),Ce()}const Is=(a,t=fa)=>{Hs(a,{get toast(){return t().toast},get position(){return t().toast.position}})};var Us=z("<div><!></div>");function Os(a,t){Ee(t,!0);let r=ht(void 0);xt(()=>{var h,D,B;(B=t.setHeight)==null||B.call(t,(D=(h=e(r))==null?void 0:h.getBoundingClientRect())==null?void 0:D.height)});let s=_e(()=>{var h;return(h=t.toast.position)!=null&&h.includes("top")?0:null}),i=_e(()=>{var h;return(h=t.toast.position)!=null&&h.includes("bottom")?0:null}),f=_e(()=>{var h;return(h=t.toast.position)!=null&&h.includes("top")?1:-1}),c=_e(()=>{var h,D,B;return((h=t.toast.position)==null?void 0:h.includes("center"))&&"center"||(((D=t.toast.position)==null?void 0:D.includes("right"))||((B=t.toast.position)==null?void 0:B.includes("end")))&&"flex-end"||null});var v=Us();let p,l;var k=u(v);{var A=h=>{Et(h,{get toast(){return t.toast}})},w=h=>{Is(h,()=>({toast:t.toast}))};N(k,h=>{t.toast.type==="custom"?h(A):h(w,!1)})}d(v),kt(v,h=>y(r,h),()=>e(r)),J(h=>{p=Ne(v,1,"wrapper svelte-v01oml",null,p,h),l=Be(v,"",l,{"--factor":e(f),"--offset":t.toast.offset,top:e(s),bottom:e(i),"justify-content":e(c)})},[()=>({active:t.toast.visible,transition:!ba()})]),g(a,v),Ce()}var Ps=z('<div role="alert"></div>');function Vs(a,t){Ee(t,!0);const[r,s]=rs(),i=()=>ss(p,"$toasts",r);let f=me(t,"reverseOrder",3,!1),c=me(t,"position",3,"top-center"),v=me(t,"gutter",3,8);const{toasts:p,handlers:l}=Ds(t.toastOptions);let k=_e(()=>i().map(w=>({...w,position:w.position||c(),offset:l.calculateOffset(w,i(),{reverseOrder:f(),gutter:v(),defaultPosition:c()})})));var A=Ps();Je(A,21,()=>e(k),w=>w.id,(w,h)=>{Os(w,{get toast(){return e(h)},setHeight:D=>l.updateHeight(e(h).id,D??0)})}),d(A),J(()=>{Ne(A,1,`toaster ${(t.containerClassName||"")??""}`,"svelte-1phplh9"),Be(A,t.containerStyle)}),M("mouseenter",A,function(...w){var h;(h=l.startPause)==null||h.apply(this,w)}),M("mouseleave",A,function(...w){var h;(h=l.endPause)==null||h.apply(this,w)}),g(a,A),Ce(),s()}var Ws=G('<path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"></path>'),Ys=G('<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path>'),qs=G('<path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"></path>'),Zs=G('<path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"></path>'),Gs=G('<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path>'),Ks=G('<path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"></path>'),Qs=G('<path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"></path>'),Xs=G('<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path>'),Js=G('<path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"></path>'),$s=G('<path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"></path>'),en=G('<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path>'),tn=G('<path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"></path>'),an=G('<path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"></path>'),rn=G('<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path>'),sn=G('<path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"></path>'),nn=G('<path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"></path>'),on=G('<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path>'),ln=G('<path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"></path>'),dn=G('<path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"></path>'),cn=G('<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path>'),un=G('<path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"></path>'),vn=G('<path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"></path>'),fn=G('<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path>'),pn=G('<path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"></path>'),hn=G('<path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"></path>'),gn=G('<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path>'),_n=G('<path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"></path>'),mn=G('<path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"></path>'),xn=G('<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path>'),bn=G('<path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"></path>'),yn=z('<input type="date" class="text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/> <button type="button" class="text-green-600 hover:text-green-800 transition-colors" title="Save changes"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></button>',1),wn=z('<span class="flex-1"> </span> <button type="button" class="text-gray-400 hover:text-gray-600 transition-colors" title="Edit last day"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button>',1),kn=z('<div class="flex flex-col gap-2"><div class="flex items-center gap-2"><input type="date" class="text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/> <button type="button" class="text-green-600 hover:text-green-800 transition-colors" title="Save changes"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></button></div> <button type="button" class="text-xs border border-gray-300 hover:bg-gray-300 text-gray-700 w-21.5 rounded px-2 py-1 transition-colors" title="Mark as no existing account">No account</button></div>'),Dn=z('<span class="inline-flex w-5 h-5 text-xs font-medium rounded-full bg-red-600 text-white items-center justify-center">L</span>'),En=z('<!> <span> </span> <button type="button" class="text-gray-400 hover:text-gray-600 transition-colors" title="Edit batch deactivation date"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button>',1),Cn=z('<div class="flex flex-col gap-2"><div class="flex items-center gap-2"><input type="date" class="text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/> <button type="button" class="text-green-600 hover:text-green-800 transition-colors" title="Save changes"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></button></div> <button type="button" class="text-xs border border-gray-300 hover:bg-gray-300 text-gray-700 w-21.5 rounded px-2 py-1 transition-colors" title="Mark as no existing account">No account</button></div>'),Ln=z('<span class="inline-flex w-5 h-5 text-xs font-medium rounded-full bg-red-600 text-white items-center justify-center">L</span>'),Sn=z('<!> <span> </span> <button type="button" class="text-gray-400 hover:text-gray-600 transition-colors" title="Edit batch deactivation date"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button>',1),Tn=z('<div class="flex flex-col gap-2"><div class="flex items-center gap-2"><input type="date" class="text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/> <button type="button" class="text-green-600 hover:text-green-800 transition-colors" title="Save changes"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></button></div> <button type="button" class="text-xs border border-gray-300 hover:bg-gray-300 text-gray-700 w-21.5 rounded px-2 py-1 transition-colors" title="Mark as no existing account">No account</button></div>'),Mn=z('<span class="inline-flex w-5 h-5 text-xs font-medium rounded-full bg-red-600 text-white items-center justify-center">L</span>'),jn=z('<!> <span> </span> <button type="button" class="text-gray-400 hover:text-gray-600 transition-colors" title="Edit batch deactivation date"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button>',1),Nn=z('<div class="flex flex-col gap-2"><div class="flex items-center gap-2"><input type="date" class="text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/> <button type="button" class="text-green-600 hover:text-green-800 transition-colors" title="Save changes"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></button></div> <button type="button" class="text-xs border border-gray-300 hover:bg-gray-300 text-gray-700 w-21.5 rounded px-2 py-1 transition-colors" title="Mark as no existing account">No account</button></div>'),zn=z('<span class="inline-flex w-5 h-5 text-xs font-medium rounded-full bg-red-600 text-white items-center justify-center">L</span>'),An=z('<!> <span> </span> <button type="button" class="text-gray-400 hover:text-gray-600 transition-colors" title="Edit batch deactivation date"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button>',1),Fn=z('<input type="date" class="text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/> <button type="button" class="text-green-600 hover:text-green-800 transition-colors" title="Save changes"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></button>',1),Bn=z('<span class="flex-1"> </span> <button type="button" class="text-gray-400 hover:text-gray-600 transition-colors" title="Edit date for HR email"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button>',1),Rn=z('<input type="checkbox" class="w-5 h-5 text-green-600 rounded border-gray-300 focus:ring-green-500 cursor-pointer align-middle"/>'),Hn=z('<div class="w-4 h-4 bg-gray-400 border-2 border-gray-400 rounded cursor-not-allowed relative align-middle inline-block" title="Incomplete details"></div>'),In=z('<textarea rows="3" class="text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 h-20 w-40"></textarea> <button type="button" class="text-green-600 hover:text-green-800 transition-colors" title="Save changes"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></button>',1),Un=z('<span class="flex-1"> </span> <button type="button" class="text-gray-400 hover:text-gray-600 transition-colors" title="Edit remarks"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button>',1),On=z('<tr class="hover:bg-gray-50 transition-colors"><td class="px-3 py-2 whitespace-normal text-xs font-medium text-gray-900 sticky left-0 bg-white"> </td><td class="pl-3 py-2 whitespace-nowrap text-xs text-gray-900"> </td><td class="pl-3 py-2 whitespace-normal text-xs text-gray-900"> </td><td class="pl-3 py-2 whitespace-normal text-xs font-medium text-gray-900"> </td><td class="pl-3 py-2 whitespace-normal text-xs text-gray-900"> </td><td class="pl-3 py-2 whitespace-normal text-xs text-gray-900"> </td><td class="pl-3 py-2 whitespace-normal text-xs text-gray-900"> </td><td class="pl-3 py-2 whitespace-nowrap text-xs text-gray-900"><div class="flex items-center gap-2"><!></div></td><td class="pl-3 py-2 whitespace-nowrap text-xs text-gray-900"><div class="flex items-center gap-2"><!></div></td><td class="pl-3 py-2 whitespace-nowrap text-xs text-gray-900"><div class="flex items-center gap-2"><!></div></td><td class="pl-3 py-2 whitespace-nowrap text-xs text-gray-900"><div class="flex items-center gap-2"><!></div></td><td class="pl-3 py-2 whitespace-nowrap text-xs text-gray-900"><div class="flex items-center gap-2"><!></div></td><td class="pl-3 py-2 whitespace-nowrap text-xs text-gray-900"><div class="flex items-center gap-2"><!></div></td><td class="pl-5 py-4 whitespace-nowrap text-xs text-gray-500 text-center align-middle"><!></td><td class="px-3 py-2 whitespace-normal text-xs text-gray-900"><div class="flex items-center gap-2"><!></div></td></tr>'),Pn=z('<div class="text-center py-12"><svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> <h3 class="mt-2 text-xs font-medium text-gray-900">No employees found</h3></div>'),Vn=z('<!> <div class="outer-wrapper"><div class="table-wrapper rounded-md svelte-1dcj7te"><table class="min-w-full text-xs text-left text-gray-700 bg-white svelte-1dcj7te"><thead class="bg-gray-100 text-xs text-gray-500 uppercase sticky top-0 z-20"><tr><th class="px-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors sticky left-0 top-0 bg-gray-100 z-30"><div class="flex items-center gap-1"># <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20"><!></svg></div></th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors"><div class="flex items-center gap-1">Date hired <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20"><!></svg></div></th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider">Cost center</th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors"><div class="flex items-center gap-1">Name <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20"><!></svg></div></th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider">Position title</th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider">Rank</th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors"><div class="flex items-center gap-1">Department <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20"><!></svg></div></th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors"><div class="flex items-center gap-1">Last day <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20"><!></svg></div></th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors"><div class="flex items-center gap-1">Batch Deactivation <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20"><!></svg></div></th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors"><div class="flex items-center gap-1">3rd Party Systems <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20"><!></svg></div></th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors"><div class="flex items-center gap-1">Emails <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20"><!></svg></div></th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors"><div class="flex items-center gap-1">Windows <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20"><!></svg></div></th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors"><div class="flex items-center gap-1">HR Email <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20"><!></svg></div></th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider">Status</th><th class="px-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider">Remarks</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"></tbody></table> <!></div> <div class="sticky-scrollbar-container bg-gray-50 border-t border-gray-300 h-5 z-10"><div class="h-5"></div></div></div>',1);function Wn(a,t){Ee(t,!1);const r=$();let s=me(t,"employees",28,()=>[]),i=me(t,"onstatustoggle",8),f=me(t,"onEmployeeUpdate",8,void 0),c=$(""),v=$("asc"),p=$(null),l=$(""),k=null,A=$(null);function w(o){e(c)==o?y(v,e(v)==="asc"?"desc":"asc"):(y(c,o),y(v,"asc"))}function h(o){return o?new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"}function D(o){if(!o)return"";const n=new Date(o),j=n.getFullYear(),O=String(n.getMonth()+1).padStart(2,"0"),m=String(n.getDate()).padStart(2,"0");return`${j}-${O}-${m}`}function B(o,n){y(p,{id:o.employee_no,key:n}),typeof o[n]!="boolean"&&(S(o[n])?y(l,""):y(l,D(o[n])))}async function E(o){if(!e(p))return;const{key:n}=e(p);try{const j=e(l).trim();let O,m,T;if(j==="NO_ACCOUNT")O="1900-01-01",m='Marked as "No existing account" for employee no. '+o.employee_no;else{const xe=new Date(j);if(!j||isNaN(xe.getTime()))throw new Error("Invalid date format");O=j,m="Changes saved for employee no. "+o.employee_no}switch(n){case"last_day":T=`${ke}/resignees/${o.employee_no}/last_day`;break;case"um":T=`${ke}/resignees/${o.employee_no}/um`;break;case"third_party":T=`${ke}/resignees/${o.employee_no}/third-party`;break;case"email":T=`${ke}/resignees/${o.employee_no}/email`;break;case"windows":T=`${ke}/resignees/${o.employee_no}/windows`;break;case"date_hr_emailed":T=`${ke}/resignees/${o.employee_no}/date_hr_emailed`;break;default:throw new Error(`Unknown field: ${n}`)}const Se=await fetch(T,{method:"PUT",headers:{"Content-Type":"text/plain"},body:O,credentials:"include"});if(!Se.ok){const xe=await Se.text();throw new Error(`Error ${Se.status}: ${xe}`)}const Me=await Se.json(),Le=s().findIndex(xe=>xe.employee_no===o.employee_no);if(Le!==-1){if(j==="NO_ACCOUNT"){if(n in s()[Le]){s(s()[Le][n]="1900-01-01",!0);const xe=n.concat("_late");s(s()[Le][xe]=!1,!0)}}else if(n in s()[Le]&&s(s()[Le][n]=new Date(j).toISOString(),!0),n=="um"||n=="third_party"||n=="email"||n=="windows"){const xe=n.concat("_late");xe in s()[Le]&&s(s()[Le][xe]=Me.late,!0)}f()&&(n==="last_day"||n==="date_hr_emailed")&&f()()}}catch(j){console.error("Error updating field:",j);const O=j instanceof Error?j.message:"Unknown error";he.error(`Failed to update field: ${O}`)}finally{y(p,null),y(l,"")}}function S(o){if(!o)return!1;const n=new Date(o);return n.getFullYear()===1900&&n.getMonth()===0&&n.getDate()===1}function P(){y(p,null),y(l,"")}async function q(o){if(e(p))try{const n=e(l).trim(),j=await fetch(`https://localhost:8000/resignees/${o.employee_no}/remarks`,{method:"PUT",headers:{"Content-Type":"text/plain"},body:n,credentials:"include"});if(!j.ok){const m=await j.text();throw new Error(`Error ${j.status}: ${m}`)}const O=s().findIndex(m=>m.employee_no===o.employee_no);O!==-1&&(s(s()[O].remarks=n,!0),s([...s()]),he.success("Remarks updated for employee no. "+o.employee_no))}catch(n){console.error("Error updating remarks:",n);const j=n instanceof Error?n.message:"Unknown error";alert(`Failed to update remarks: ${j}`)}finally{y(p,null),y(l,"")}}function F(o){y(p,{id:o.employee_no,key:"remarks"}),y(l,String(o.remarks||""))}function H(o){o.key==="Escape"&&P()}function de(o){return[o.um,o.third_party,o.email,o.windows].every(j=>j&&j.trim()!=="")}function K(o){const j=(o.processed_date_time?"processed":"unprocessed")==="processed"?"unprocess":"process";i()&&i()({detail:{employee:o,action:j}}),setTimeout(()=>{j==="process"?he.success("Employee no. "+o.employee_no+" marked as processed"):he.success("Employee no. "+o.employee_no+" marked as unprocessed")},300)}xt(()=>(typeof window<"u"&&window.addEventListener("resize",()=>{}),()=>{})),la(()=>{}),gt(()=>(ea(s()),e(c),e(v)),()=>{y(r,[...s()].sort((o,n)=>{if(!e(c))return 0;let j=o[e(c)],O=n[e(c)];if(typeof j=="boolean"||typeof O=="boolean")return 0;if(e(c)==="date_hired"||e(c)==="last_day"||e(c)==="um"||e(c)==="third_party"||e(c)==="email"||e(c)==="windows"){const Se=new Date(j||"1900-01-01"),Me=new Date(O||"1900-01-01");return Se<Me?e(v)==="asc"?-1:1:Se>Me?e(v)==="asc"?1:-1:0}const m=String(j||""),T=String(O||"");return m<T?e(v)==="asc"?-1:1:m>T?e(v)==="asc"?1:-1:0}))}),gt(()=>(ea(s()),e(A)),()=>{s()}),pa(),Ie();var Y=Vn();M("keydown",Kr,H);var ie=pe(Y);Vs(ie,{});var ee=_(ie,2),te=u(ee),ce=u(te),we=u(ce),ve=u(we),ue=u(ve),ae=u(ue),ne=_(u(ae)),le=u(ne);{var C=o=>{var n=Ws();g(o,n)},U=(o,n)=>{{var j=m=>{var T=Ys();g(m,T)},O=m=>{var T=qs();g(m,T)};N(o,m=>{e(c)==="employee_no"&&e(v)==="desc"?m(j):m(O,!1)},n)}};N(le,o=>{e(c)==="employee_no"&&e(v)==="asc"?o(C):o(U,!1)})}d(ne),d(ae),d(ue);var V=_(ue),W=u(V),Z=_(u(W)),Q=u(Z);{var fe=o=>{var n=Zs();g(o,n)},De=(o,n)=>{{var j=m=>{var T=Gs();g(m,T)},O=m=>{var T=Ks();g(m,T)};N(o,m=>{e(c)==="date_hired"&&e(v)==="desc"?m(j):m(O,!1)},n)}};N(Q,o=>{e(c)==="date_hired"&&e(v)==="asc"?o(fe):o(De,!1)})}d(Z),d(W),d(V);var Fe=_(V,2),Oe=u(Fe),Ct=_(u(Oe)),Ca=u(Ct);{var La=o=>{var n=Qs();g(o,n)},Sa=(o,n)=>{{var j=m=>{var T=Xs();g(m,T)},O=m=>{var T=Js();g(m,T)};N(o,m=>{e(c)==="name"&&e(v)==="desc"?m(j):m(O,!1)},n)}};N(Ca,o=>{e(c)==="name"&&e(v)==="asc"?o(La):o(Sa,!1)})}d(Ct),d(Oe),d(Fe);var Pe=_(Fe,3),Lt=u(Pe),St=_(u(Lt)),Ta=u(St);{var Ma=o=>{var n=$s();g(o,n)},ja=(o,n)=>{{var j=m=>{var T=en();g(m,T)},O=m=>{var T=tn();g(m,T)};N(o,m=>{e(c)==="department"&&e(v)==="desc"?m(j):m(O,!1)},n)}};N(Ta,o=>{e(c)==="department"&&e(v)==="asc"?o(Ma):o(ja,!1)})}d(St),d(Lt),d(Pe);var Ve=_(Pe),Tt=u(Ve),Mt=_(u(Tt)),Na=u(Mt);{var za=o=>{var n=an();g(o,n)},Aa=(o,n)=>{{var j=m=>{var T=rn();g(m,T)},O=m=>{var T=sn();g(m,T)};N(o,m=>{e(c)==="last_day"&&e(v)==="desc"?m(j):m(O,!1)},n)}};N(Na,o=>{e(c)==="last_day"&&e(v)==="asc"?o(za):o(Aa,!1)})}d(Mt),d(Tt),d(Ve);var We=_(Ve),jt=u(We),Nt=_(u(jt)),Fa=u(Nt);{var Ba=o=>{var n=nn();g(o,n)},Ra=(o,n)=>{{var j=m=>{var T=on();g(m,T)},O=m=>{var T=ln();g(m,T)};N(o,m=>{e(c)==="um"&&e(v)==="desc"?m(j):m(O,!1)},n)}};N(Fa,o=>{e(c)==="um"&&e(v)==="asc"?o(Ba):o(Ra,!1)})}d(Nt),d(jt),d(We);var Ye=_(We),zt=u(Ye),At=_(u(zt)),Ha=u(At);{var Ia=o=>{var n=dn();g(o,n)},Ua=(o,n)=>{{var j=m=>{var T=cn();g(m,T)},O=m=>{var T=un();g(m,T)};N(o,m=>{e(c)==="last_day"&&e(v)==="desc"?m(j):m(O,!1)},n)}};N(Ha,o=>{e(c)==="last_day"&&e(v)==="asc"?o(Ia):o(Ua,!1)})}d(At),d(zt),d(Ye);var qe=_(Ye),Ft=u(qe),Bt=_(u(Ft)),Oa=u(Bt);{var Pa=o=>{var n=vn();g(o,n)},Va=(o,n)=>{{var j=m=>{var T=fn();g(m,T)},O=m=>{var T=pn();g(m,T)};N(o,m=>{e(c)==="last_day"&&e(v)==="desc"?m(j):m(O,!1)},n)}};N(Oa,o=>{e(c)==="last_day"&&e(v)==="asc"?o(Pa):o(Va,!1)})}d(Bt),d(Ft),d(qe);var Ze=_(qe),Rt=u(Ze),Ht=_(u(Rt)),Wa=u(Ht);{var Ya=o=>{var n=hn();g(o,n)},qa=(o,n)=>{{var j=m=>{var T=gn();g(m,T)},O=m=>{var T=_n();g(m,T)};N(o,m=>{e(c)==="last_day"&&e(v)==="desc"?m(j):m(O,!1)},n)}};N(Wa,o=>{e(c)==="last_day"&&e(v)==="asc"?o(Ya):o(qa,!1)})}d(Ht),d(Rt),d(Ze);var $e=_(Ze),It=u($e),Ut=_(u(It)),Za=u(Ut);{var Ga=o=>{var n=mn();g(o,n)},Ka=(o,n)=>{{var j=m=>{var T=xn();g(m,T)},O=m=>{var T=bn();g(m,T)};N(o,m=>{e(c)==="last_day"&&e(v)==="desc"?m(j):m(O,!1)},n)}};N(Za,o=>{e(c)==="last_day"&&e(v)==="asc"?o(Ga):o(Ka,!1)})}d(Ut),d(It),d($e),_t(2),d(ve),d(we);var Ot=_(we);Je(Ot,7,()=>e(r),o=>o.employee_no,(o,n)=>{var j=On(),O=u(j),m=u(O,!0);d(O);var T=_(O),Se=u(T,!0);d(T);var Me=_(T),Le=u(Me,!0);d(Me);var xe=_(Me),$a=u(xe,!0);d(xe);var et=_(xe),er=u(et,!0);d(et);var tt=_(et),tr=u(tt,!0);d(tt);var at=_(tt),ar=u(at,!0);d(at);var rt=_(at),Pt=u(rt),rr=u(Pt);{var sr=L=>{var b=yn(),x=pe(b);be(x);var I=_(x,2);ye(x,()=>e(l),R=>y(l,R)),M("keydown",x,R=>{R.key==="Enter"&&E(e(n))}),M("click",I,()=>E(e(n))),g(L,b)},nr=L=>{var b=wn(),x=pe(b),I=u(x,!0);d(x);var R=_(x,2);J(re=>oe(I,re),[()=>h(e(n).last_day)],Te),M("click",R,()=>B(e(n),"last_day")),g(L,b)};N(rr,L=>{var b,x;((b=e(p))==null?void 0:b.id)===e(n).employee_no&&((x=e(p))==null?void 0:x.key)==="last_day"?L(sr):L(nr,!1)})}d(Pt),d(rt);var st=_(rt),Vt=u(st),or=u(Vt);{var ir=L=>{var b=kn(),x=u(b),I=u(x);be(I);var R=_(I,2);d(x);var re=_(x,2);d(b),ye(I,()=>e(l),X=>y(l,X)),M("keydown",I,X=>{X.key==="Enter"&&E(e(n))}),M("click",R,()=>E(e(n))),M("click",re,()=>{y(l,"NO_ACCOUNT"),E(e(n))}),g(L,b)},lr=L=>{var b=En(),x=pe(b);{var I=se=>{var ge=Dn();g(se,ge)};N(x,se=>{e(n).um_late&&se(I)})}var R=_(x,2),re=u(R,!0);d(R);var X=_(R,2);J((se,ge)=>{Ne(R,1,`inline-flex px-2 py-1 text-xs font-medium rounded-full ${se??""}`),oe(re,ge)},[()=>S(e(n).um)?"bg-[#FFF3CD] text-[#856404]":e(n).um?"bg-[#CFEED8] text-[#1E9F37]":"bg-[#FED9DA] text-[#D7313E]",()=>S(e(n).um)?"No account":e(n).um?h(e(n).um):"N/A"],Te),M("click",X,()=>B(e(n),"um")),g(L,b)};N(or,L=>{var b,x;((b=e(p))==null?void 0:b.id)===e(n).employee_no&&((x=e(p))==null?void 0:x.key)==="um"?L(ir):L(lr,!1)})}d(Vt),d(st);var nt=_(st),Wt=u(nt),dr=u(Wt);{var cr=L=>{var b=Cn(),x=u(b),I=u(x);be(I);var R=_(I,2);d(x);var re=_(x,2);d(b),ye(I,()=>e(l),X=>y(l,X)),M("keydown",I,X=>{X.key==="Enter"&&E(e(n))}),M("click",R,()=>E(e(n))),M("click",re,()=>{y(l,"NO_ACCOUNT"),E(e(n))}),g(L,b)},ur=L=>{var b=Sn(),x=pe(b);{var I=se=>{var ge=Ln();g(se,ge)};N(x,se=>{e(n).third_party_late&&se(I)})}var R=_(x,2),re=u(R,!0);d(R);var X=_(R,2);J((se,ge)=>{Ne(R,1,`inline-flex px-2 py-1 text-xs font-medium rounded-full ${se??""}`),oe(re,ge)},[()=>S(e(n).third_party)?"bg-[#FFF3CD] text-[#856404]":e(n).third_party?"bg-[#CFEED8] text-[#1E9F37]":"bg-[#FED9DA] text-[#D7313E]",()=>S(e(n).third_party)?"No account":e(n).third_party?h(e(n).third_party):"N/A"],Te),M("click",X,()=>B(e(n),"third_party")),g(L,b)};N(dr,L=>{var b,x;((b=e(p))==null?void 0:b.id)===e(n).employee_no&&((x=e(p))==null?void 0:x.key)==="third_party"?L(cr):L(ur,!1)})}d(Wt),d(nt);var ot=_(nt),Yt=u(ot),vr=u(Yt);{var fr=L=>{var b=Tn(),x=u(b),I=u(x);be(I);var R=_(I,2);d(x);var re=_(x,2);d(b),ye(I,()=>e(l),X=>y(l,X)),M("keydown",I,X=>{X.key==="Enter"&&E(e(n))}),M("click",R,()=>E(e(n))),M("click",re,()=>{y(l,"NO_ACCOUNT"),E(e(n))}),g(L,b)},pr=L=>{var b=jn(),x=pe(b);{var I=se=>{var ge=Mn();g(se,ge)};N(x,se=>{e(n).email_late&&se(I)})}var R=_(x,2),re=u(R,!0);d(R);var X=_(R,2);J((se,ge)=>{Ne(R,1,`inline-flex px-2 py-1 text-xs font-medium rounded-full ${se??""}`),oe(re,ge)},[()=>S(e(n).email)?"bg-[#FFF3CD] text-[#856404]":e(n).email?"bg-[#CFEED8] text-[#1E9F37]":"bg-[#FED9DA] text-[#D7313E]",()=>S(e(n).email)?"No account":e(n).email?h(e(n).email):"N/A"],Te),M("click",X,()=>B(e(n),"email")),g(L,b)};N(vr,L=>{var b,x;((b=e(p))==null?void 0:b.id)===e(n).employee_no&&((x=e(p))==null?void 0:x.key)==="email"?L(fr):L(pr,!1)})}d(Yt),d(ot);var it=_(ot),qt=u(it),hr=u(qt);{var gr=L=>{var b=Nn(),x=u(b),I=u(x);be(I);var R=_(I,2);d(x);var re=_(x,2);d(b),ye(I,()=>e(l),X=>y(l,X)),M("keydown",I,X=>{X.key==="Enter"&&E(e(n))}),M("click",R,()=>E(e(n))),M("click",re,()=>{y(l,"NO_ACCOUNT"),E(e(n))}),g(L,b)},_r=L=>{var b=An(),x=pe(b);{var I=se=>{var ge=zn();g(se,ge)};N(x,se=>{e(n).windows_late&&se(I)})}var R=_(x,2),re=u(R,!0);d(R);var X=_(R,2);J((se,ge)=>{Ne(R,1,`inline-flex px-2 py-1 text-xs font-medium rounded-full ${se??""}`),oe(re,ge)},[()=>S(e(n).windows)?"bg-[#FFF3CD] text-[#856404]":e(n).windows?"bg-[#CFEED8] text-[#1E9F37]":"bg-[#FED9DA] text-[#D7313E]",()=>S(e(n).windows)?"No account":e(n).windows?h(e(n).windows):"N/A"],Te),M("click",X,()=>B(e(n),"windows")),g(L,b)};N(hr,L=>{var b,x;((b=e(p))==null?void 0:b.id)===e(n).employee_no&&((x=e(p))==null?void 0:x.key)==="windows"?L(gr):L(_r,!1)})}d(qt),d(it);var lt=_(it),Zt=u(lt),mr=u(Zt);{var xr=L=>{var b=Fn(),x=pe(b);be(x);var I=_(x,2);ye(x,()=>e(l),R=>y(l,R)),M("keydown",x,R=>{R.key==="Enter"&&E(e(n))}),M("click",I,()=>E(e(n))),g(L,b)},br=L=>{var b=Bn(),x=pe(b),I=u(x,!0);d(x);var R=_(x,2);J(re=>oe(I,re),[()=>h(e(n).date_hr_emailed)],Te),M("click",R,()=>B(e(n),"date_hr_emailed")),g(L,b)};N(mr,L=>{var b,x;((b=e(p))==null?void 0:b.id)===e(n).employee_no&&((x=e(p))==null?void 0:x.key)==="date_hr_emailed"?L(xr):L(br,!1)})}d(Zt),d(lt);var dt=_(lt),yr=u(dt);{var wr=L=>{var b=Rn();be(b),J(()=>ga(b,e(n).processed_date_time!==null)),M("change",b,()=>K(e(n))),g(L,b)},kr=L=>{var b=Hn();g(L,b)};N(yr,L=>{de(e(n))?L(wr):L(kr,!1)})}d(dt);var Gt=_(dt),Kt=u(Gt),Dr=u(Kt);{var Er=L=>{var b=In(),x=pe(b);ha(x);var I=_(x,2);ye(x,()=>e(l),R=>y(l,R)),M("click",I,()=>q(e(n))),g(L,b)},Cr=L=>{var b=Un(),x=pe(b),I=u(x,!0);d(x);var R=_(x,2);J(re=>oe(I,re),[()=>String(e(n).remarks||"N/A")],Te),M("click",R,()=>F(e(n))),g(L,b)};N(Dr,L=>{var b,x;((b=e(p))==null?void 0:b.id)===e(n).employee_no&&((x=e(p))==null?void 0:x.key)==="remarks"?L(Er):L(Cr,!1)})}d(Kt),d(Gt),d(j),J((L,b,x,I,R,re,X)=>{oe(m,L),oe(Se,b),oe(Le,x),oe($a,I),oe(er,R),oe(tr,re),oe(ar,X)},[()=>String(e(n).employee_no||""),()=>h(e(n).date_hired),()=>String(e(n).cost_center||""),()=>String(e(n).name||""),()=>String(e(n).position_title||""),()=>String(e(n).rank||""),()=>String(e(n).department||"")],Te),g(o,j)}),d(Ot),d(ce);var Qa=_(ce,2);{var Xa=o=>{var n=Pn();g(o,n)};N(Qa,o=>{e(r).length===0&&o(Xa)})}d(te);var Ja=_(te,2);kt(Ja,o=>y(A,o),()=>e(A)),d(ee),M("click",ue,()=>w("employee_no")),M("click",V,()=>w("date_hired")),M("click",Fe,()=>w("name")),M("click",Pe,()=>w("department")),M("click",Ve,()=>w("last_day")),M("click",We,()=>w("last_day")),M("click",Ye,()=>w("last_day")),M("click",qe,()=>w("last_day")),M("click",Ze,()=>w("last_day")),M("click",$e,()=>w("last_day")),g(a,Y),Ce()}function Yn(a,t,r,s){var i;y(t,""),r(),(i=e(s))==null||i.focus()}var qn=z('<div class="absolute inset-y-0 right-0 pr-3 flex items-center"><button class="text-gray-400 hover:text-gray-600 focus:outline-none transition-colors" aria-label="Clear search"><svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div>'),Zn=z('<div class="relative flex-1 min-w-[200px] max-w-md"><div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"><svg class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-4.35-4.35M17 10a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div> <input type="text" placeholder="Search" class="block w-full pl-10 pr-10 py-2.5 border border-gray-300 rounded-3xl"/> <!></div>');function Gn(a,t){Ee(t,!0);let r=ht(""),s=ht(void 0);function i(){var l;(l=t.onsearch)==null||l.call(t,{searchTerm:e(r)})}Qr(()=>{i()});var f=Zn(),c=_(u(f),2);be(c),c.__input=i,kt(c,l=>y(s,l),()=>e(s));var v=_(c,2);{var p=l=>{var k=qn(),A=u(k);A.__click=[Yn,r,i,s],d(k),g(l,k)};N(v,l=>{e(r)&&l(p)})}d(f),ye(c,()=>e(r),l=>y(r,l)),g(a,f),Ce()}Jr(["input","click"]);const wa=6e4,ka=36e5,na=Symbol.for("constructDateFrom");function Da(a,t){return typeof a=="function"?a(t):a&&typeof a=="object"&&na in a?a[na](t):a instanceof Date?new a.constructor(t):new Date(t)}function oa(a,t){return Da(a,a)}function Kn(a,t){const r=()=>Da(t==null?void 0:t.in,NaN),i=$n(a);let f;if(i.date){const l=eo(i.date,2);f=to(l.restDateString,l.year)}if(!f||isNaN(+f))return r();const c=+f;let v=0,p;if(i.time&&(v=ao(i.time),isNaN(v)))return r();if(i.timezone){if(p=ro(i.timezone),isNaN(p))return r()}else{const l=new Date(c+v),k=oa(0);return k.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),k.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),k}return oa(c+v+p)}const Ge={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Qn=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Xn=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Jn=/^([+-])(\d{2})(?::?(\d{2}))?$/;function $n(a){const t={},r=a.split(Ge.dateTimeDelimiter);let s;if(r.length>2)return t;if(/:/.test(r[0])?s=r[0]:(t.date=r[0],s=r[1],Ge.timeZoneDelimiter.test(t.date)&&(t.date=a.split(Ge.timeZoneDelimiter)[0],s=a.substr(t.date.length,a.length))),s){const i=Ge.timezone.exec(s);i?(t.time=s.replace(i[1],""),t.timezone=i[1]):t.time=s}return t}function eo(a,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=a.match(r);if(!s)return{year:NaN,restDateString:""};const i=s[1]?parseInt(s[1]):null,f=s[2]?parseInt(s[2]):null;return{year:f===null?i:f*100,restDateString:a.slice((s[1]||s[2]).length)}}function to(a,t){if(t===null)return new Date(NaN);const r=a.match(Qn);if(!r)return new Date(NaN);const s=!!r[4],i=He(r[1]),f=He(r[2])-1,c=He(r[3]),v=He(r[4]),p=He(r[5])-1;if(s)return lo(t,v,p)?so(t,v,p):new Date(NaN);{const l=new Date(0);return!oo(t,f,c)||!io(t,i)?new Date(NaN):(l.setUTCFullYear(t,f,Math.max(i,c)),l)}}function He(a){return a?parseInt(a):1}function ao(a){const t=a.match(Xn);if(!t)return NaN;const r=ft(t[1]),s=ft(t[2]),i=ft(t[3]);return co(r,s,i)?r*ka+s*wa+i*1e3:NaN}function ft(a){return a&&parseFloat(a.replace(",","."))||0}function ro(a){if(a==="Z")return 0;const t=a.match(Jn);if(!t)return 0;const r=t[1]==="+"?-1:1,s=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return uo(s,i)?r*(s*ka+i*wa):NaN}function so(a,t,r){const s=new Date(0);s.setUTCFullYear(a,0,4);const i=s.getUTCDay()||7,f=(t-1)*7+r+1-i;return s.setUTCDate(s.getUTCDate()+f),s}const no=[31,null,31,30,31,30,31,31,30,31,30,31];function Ea(a){return a%400===0||a%4===0&&a%100!==0}function oo(a,t,r){return t>=0&&t<=11&&r>=1&&r<=(no[t]||(Ea(a)?29:28))}function io(a,t){return t>=1&&t<=(Ea(a)?366:365)}function lo(a,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function co(a,t,r){return a===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&a>=0&&a<25}function uo(a,t){return t>=0&&t<=59}var vo=z('<label class="field-option svelte-1jjbium"><input type="radio" name="filter" class="svelte-1jjbium"/> </label>'),fo=z('<div class="date-range svelte-1jjbium"><input type="date" class="svelte-1jjbium"/> <input type="date" class="svelte-1jjbium"/></div>'),po=z('<div class="field-grid mb-2 svelte-1jjbium" style="gap: 0.25rem 0.70rem;"><label class="field-option svelte-1jjbium"><input type="radio" name="status-filter" value="processed" class="svelte-1jjbium"/> <span class="inline-block px-5 py-1.5 rounded-full text-sm font-[Open_Sans] font-550 bg-[#CFEED8] text-[#1E9F37]">Processed</span></label> <label class="field-option svelte-1jjbium"><input type="radio" name="status-filter" value="unprocessed" class="svelte-1jjbium"/> <span class="inline-block px-3 py-1.5 rounded-full text-sm font-[Open_Sans] font-550 bg-[#FED9DA] text-[#D7313E]">Unprocessed</span></label></div>'),ho=z('<div class="filter-input svelte-1jjbium"><input type="text" class="w-full px-2 py-1 border border-gray-300 rounded mb-0.25"/></div>'),go=z('<div class="filter-tag svelte-1jjbium"> <button class="svelte-1jjbium">×</button></div>'),_o=z('<div class="active-filters svelte-1jjbium"><!> <button class="clear-button svelte-1jjbium">Clear All</button></div>'),mo=z('<div class="dropdown-panel svelte-1jjbium"><button class="close-button svelte-1jjbium">✕</button> <div class="field-grid svelte-1jjbium"></div> <hr class="divider svelte-1jjbium"/> <!> <!></div>'),xo=z('<div class="dropdown svelte-1jjbium"><button class="filter-button svelte-1jjbium"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="svelte-1jjbium"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"></path></svg> Filter</button> <!></div>');function bo(a,t){Ee(t,!1);let r=me(t,"employees",24,()=>[]);const s=Tr();let i=$(!1),f=$(""),c=$(""),v=$(""),p=$(""),l=$([]);const k=["Employee No.","Date Hired","Cost Center","Name","Position","Rank","Department","Last Day","Batch Deactivation","3rd Party Systems","Emails","Windows","HR Email","Status","Remarks"];function A(){y(i,!e(i))}function w(K){y(f,K),y(c,""),y(v,""),y(p,"")}function h(){if(["Date Hired","Last Day","Batch Deactivation","3rd Party Systems","Emails","Windows","HR Email"].includes(e(f))){if(e(v)&&e(p)){const K=new Date(e(v)).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),Y=new Date(e(p)).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),ie=`${K} to ${Y}`;e(l).find(te=>te.field===e(f)&&te.value===ie)||(y(l,[...e(l),{field:e(f),value:ie}]),S()),y(f,""),y(v,""),y(p,"")}}else e(f)&&e(c)&&(e(l).find(Y=>Y.field===e(f)&&Y.value===e(c))||(y(l,[...e(l),{field:e(f),value:e(c)}]),S()),y(f,""),y(c,""))}function D(K){y(l,e(l).filter((Y,ie)=>ie!==K)),S()}function B(){y(i,!1),y(f,""),y(c,"")}function E(){y(l,[]),S()}function S(){let K=r();e(l).forEach(Y=>{const ie=P(Y.field);K=K.filter(ee=>{var we;const te=(we=ee[ie])==null?void 0:we.toString().toLowerCase(),ce=Y.value.toLowerCase();if(Y.field==="Employee No."||Y.field==="Cost Center"){const ve=te.replace(/^0+/,""),ue=ce.replace(/^0+/,"");return ve===ue}if(["Date Hired","Last Day","Batch Deactivation","3rd Party Systems","Emails","Windows","HR Email"].includes(Y.field)){const[ve,ue]=Y.value.split(" to ");try{const ae=Kn(ee[ie]);return ae>=new Date(ve)&&ae<=new Date(ue)}catch{return!1}}return Y.field==="Status"?(te?"processed":"unprocessed")===ce.toLowerCase():te==null?void 0:te.toString().toLowerCase().includes(ce)})}),s("filter",{filtered:K})}function P(K){return{"Employee No.":"employee_no","Date Hired":"date_hired","Cost Center":"cost_center",Name:"name",Position:"position_title",Rank:"rank",Department:"department","Last Day":"last_day","Batch Deactivation":"um","3rd Party Systems":"third_party",Emails:"email",Windows:"windows","HR Email":"date_hr_emailed",Status:"processed_date_time",Remarks:"remarks"}[K]||K}Ie();var q=xo(),F=u(q),H=_(F,2);{var de=K=>{var Y=mo(),ie=u(Y),ee=_(ie,2);Je(ee,5,()=>k,ta,(ae,ne)=>{var le=vo(),C=u(le);be(C);var U=_(C);d(le),J(()=>{ts(C,e(ne)),ga(C,e(f)===e(ne)),oe(U,` ${e(ne)??""}`)}),M("change",C,()=>w(e(ne))),g(ae,le)}),d(ee);var te=_(ee,4);{var ce=ae=>{var ne=fo(),le=u(ne);be(le);var C=_(le,2);be(C),d(ne),ye(le,()=>e(v),U=>y(v,U)),M("change",le,()=>{e(v)&&e(p)&&h()}),ye(C,()=>e(p),U=>y(p,U)),M("change",C,()=>{e(v)&&e(p)&&h()}),g(ae,ne)},we=(ae,ne)=>{{var le=U=>{var V=po(),W=u(V),Z=u(W);_t(2),d(W);var Q=_(W,2),fe=u(Q);_t(2),d(Q),d(V),M("change",Z,()=>{y(c,"Processed"),h()}),M("change",fe,()=>{y(c,"Unprocessed"),h()}),g(U,V)},C=(U,V)=>{{var W=Z=>{var Q=ho(),fe=u(Q);be(fe),d(Q),J(()=>as(fe,"placeholder",`Enter ${e(f)}...`)),ye(fe,()=>e(c),De=>y(c,De)),M("keydown",fe,De=>{De.key==="Enter"&&h()}),g(Z,Q)};N(U,Z=>{e(f)&&Z(W)},V)}};N(ae,U=>{e(f)==="Status"?U(le):U(C,!1)},ne)}};N(te,ae=>{["Date Hired","Last Day","Batch Deactivation","3rd Party Systems","Emails","Windows","HR Email"].includes(e(f))?ae(ce):ae(we,!1)})}var ve=_(te,2);{var ue=ae=>{var ne=_o(),le=u(ne);Je(le,1,()=>e(l),ta,(U,V,W)=>{var Z=go(),Q=u(Z),fe=_(Q);d(Z),J(()=>oe(Q,`${e(V).field??""} = ${e(V).value??""} `)),M("click",fe,()=>D(W)),g(U,Z)});var C=_(le,2);d(ne),M("click",C,E),g(ae,ne)};N(ve,ae=>{e(l).length>0&&ae(ue)})}d(Y),M("click",ie,B),g(K,Y)};N(H,K=>{e(i)&&K(de)})}d(q),M("click",F,A),g(a,q),Ce()}var yo=z('<ul class="absolute right-0 mt-1 w-36 z-50 bg-white border border-gray-300 rounded-md shadow-md z-10 text-sm font-[Open_Sans]"><li><button type="button" class="w-full text-left px-4 py-2 hover:bg-gray-100">Export as CSV</button></li> <li><button type="button" class="w-full text-left px-4 py-2 hover:bg-gray-100">Export as XLSX</button></li></ul>'),wo=z('<div class="flex items-center gap-2 relative"><label for="start-date" class="text-sm text-gray-600 font-[Open_Sans]">From:</label> <input id="start-date" type="date" class="border border-gray-300 px-3 py-1 rounded-full text-sm font-[Open_Sans] uppercase"/> <label for="end-date" class="text-sm text-gray-600 font-[Open_Sans]">To:</label> <input id="end-date" type="date" class="border border-gray-300 px-3 py-1 rounded-full text-sm font-[Open_Sans] uppercase"/> <div class="relative"><button><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"></path></svg> Export</button> <!></div></div>');function ko(a,t){Ee(t,!1);let r=$(""),s=$(""),i=$(!1),f=$(!1);async function c(E){if(!e(r)||!e(s)){alert("Please select both a start and end date.");return}try{const S=new Date(e(r)).toISOString(),P=new Date(e(s)).toISOString(),q=await fetch(`${ke}/resignees/report?start_date=${S}&end_date=${P}&format=${E}`,{credentials:"include"});if(!q.ok)throw new Error("Failed to fetch report from backend");const F=await q.blob(),H=URL.createObjectURL(F),de=document.createElement("a");de.href=H,de.download=`resignee_report_${e(r)}_to_${e(s)}.${E}`,de.click(),URL.revokeObjectURL(H),y(i,!0)}catch(S){console.error("Error downloading backend report:",S),alert("No process dates were found within the specified date range")}}function v(){y(f,!e(f))}function p(){setTimeout(()=>{y(f,!1)},150)}Ie();var l=wo(),k=_(u(l),2);be(k);var A=_(k,4);be(A);var w=_(A,2),h=u(w),D=_(h,2);{var B=E=>{var S=yo(),P=u(S),q=u(P);d(P);var F=_(P,2),H=u(F);d(F),d(S),M("click",q,()=>c("csv")),M("click",H,()=>c("xlsx")),g(E,S)};N(D,E=>{e(f)&&E(B)})}d(w),d(l),J(()=>Ne(h,1,`flex items-center gap-2 px-4.25 py-1.75 rounded-md text-sm font-[Open_Sans] hover:bg-blue-600 transition ${e(i),"bg-blue-500 text-white"}`)),ye(k,()=>e(r),E=>y(r,E)),ye(A,()=>e(s),E=>y(s,E)),M("click",h,v),M("blur",w,p),g(a,l),Ce()}var Do=z('<button class="flex items-center gap-2 px-3 py-1.75 bg-red-500 text-white rounded-md hover:bg-red-600 transition"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"></path></svg> Logout</button>');function Eo(a,t){Ee(t,!1);async function r(){try{const i=await fetch(`${ke}/logout`,{method:"POST",credentials:"include"});if(!i.ok){const f=await i.text();console.error("Logout failed:",f);return}mt("/")}catch(i){console.error("Logout error:",i)}}Ie();var s=Do();M("click",s,r),g(a,s),Ce()}var Co=z('<div class="flex items-center justify-center py-12"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div> <span class="ml-3 text-gray-600">Loading employees...</span></div>'),Lo=z('<div class="flex items-center justify-center py-12"><div class="text-red-600 bg-red-50 px-4 py-2 rounded-lg"> </div></div>'),So=z('<div class="mt-4 text-sm text-gray-600"> </div>'),To=z('<p class="mt-2 text-sm text-gray-700"> </p>'),Mo=z('<main class="min-h-screen bg-gray-50 p-6"><div class="max-w-7xl mx-auto"><div class="flex flex-wrap items-center justify-between gap-4 mb-6"><img src="/assets/aub-logo-2.png" alt="AUB logo" width="45"/> <div class="flex items-center gap-4 flex-1"><!></div> <div class="flex gap-2"><!> <!></div></div> <!> <!></div> <form><div class="mt-4 max-w-7xl mx-auto mb-6"><textarea rows="5" class="block w-full p-4 text-gray-900 border border-gray-300 rounded-lg bg-white text-base resize-y" placeholder="Paste resignee details here..."></textarea> <div class="mt-4 flex justify-between items-center"><button type="submit" class="px-4.25 py-1.5 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition">Submit</button> <!></div> <!></div></form></main>');function Uo(a,t){Ee(t,!1);let r=$([]),s=$([]),i=$(""),f=$(""),c="all",v=$(!0),p=$(""),l=$("");xt(async()=>{try{(await fetch(`${ke}/check-auth`,{method:"GET",credentials:"include"})).ok?await k():(console.log("Unauthorized. Redirecting to login."),mt("/"))}catch{console.error("Fetch failed (likely CORS or server down). Redirecting to login."),mt("/")}});async function k(){try{y(v,!0),y(i,""),console.log("Attempting to fetch from:",`${ke}/resignees`);const C=new AbortController,U=setTimeout(()=>C.abort(),1e4),V=await fetch(`${ke}/resignees`,{signal:C.signal,credentials:"include"});if(clearTimeout(U),console.log("Response status:",V.status),console.log("Response ok:",V.ok),!V.ok){const Z=await V.text();throw console.log("Error response:",Z),new Error(`HTTP ${V.status}: ${Z}`)}const W=await V.json();console.log("Received data:",W),console.log("Data length:",W==null?void 0:W.length),y(r,W||[]),y(v,!1)}catch(C){console.error("Load employees error:",C),C instanceof Error?C.name==="AbortError"?y(i,"Request timed out. Please check if the server is running."):C.message.includes("fetch")?y(i,"Cannot connect to server. Please check if the server is running on http://localhost:8000"):y(i,C.message):y(i,"An unexpected error occurred"),y(v,!1)}}function A(C){y(f,C.searchTerm)}function w(C){y(s,C.detail.filtered)}async function h(){if(e(p).trim())try{const C=await fetch(`${ke}/resignees`,{method:"POST",headers:{"Content-Type":"text/plain"},body:e(p),credentials:"include"});if(!C.ok){const U=await C.text();throw new Error(`HTTP error! status: ${C.status} - ${U}`)}await k(),y(p,"")}catch(C){C instanceof Error?y(l,`Error: ${C.message}`):y(l,`Error: ${String(C)}`)}}async function D(C){const{employee:U,action:V}=C.detail;try{let W,Z;V?(W=V,Z=V):U.processed_date_time?(W="unprocess",Z="unprocess"):(W="process",Z="process");const Q=await fetch(`${ke}/resignees/${U.employee_no}/${W}`,{method:"PUT",credentials:"include"});if(!Q.ok){const De=await Q.text();throw new Error(`Failed to ${Z} employee: ${Q.status} - ${De}`)}await k();const fe=Z==="process"?"processed":"unprocessed"}catch(W){const Z=V||(U.processed_date_time?"unprocess":"process"),Q=W instanceof Error?W.message:String(W);y(l,`Error ${Z}ing employee: ${Q}`)}}gt(()=>(e(f),e(r)),()=>{const C={january:0,jan:0,february:1,feb:1,march:2,mar:2,april:3,apr:3,may:4,june:5,jun:5,july:6,jul:6,august:7,aug:7,september:8,sep:8,october:9,oct:9,november:10,nov:10,december:11,dec:11},U=e(f).toLowerCase().trim(),V=C[U];y(s,e(r).filter(W=>{W.processed_date_time;const Z=c==="all",Q=Oe=>String(Oe||"").toLowerCase().includes(U),fe=new Date(W.date_hired),De=new Date(W.last_day),Fe=V!==void 0&&(fe.getMonth()===V||De.getMonth()===V);return(U===""||Q(W.name)||Q(W.employee_no)||Q(W.department)||Q(W.position_title)||Fe)&&Z}))}),pa(),Ie();var B=Mo();$r(C=>{Xr.title="AUB Resignee Tracker"});var E=u(B),S=u(E),P=_(u(S),2),q=u(P);Gn(q,{onsearch:A}),d(P);var F=_(P,2),H=u(F);bo(H,{get employees(){return e(r)},$$events:{filter:w}});var de=_(H,2);ko(de,{}),d(F),d(S);var K=_(S,2);{var Y=C=>{var U=Co();g(C,U)},ie=(C,U)=>{{var V=Z=>{var Q=Lo(),fe=u(Q),De=u(fe);d(fe),d(Q),J(()=>oe(De,`Error: ${e(i)??""}`)),g(Z,Q)},W=Z=>{Wn(Z,{get employees(){return e(s)},onstatustoggle:D,onEmployeeUpdate:()=>{k()}})};N(C,Z=>{e(i)?Z(V):Z(W,!1)},U)}};N(K,C=>{e(v)?C(Y):C(ie,!1)})}var ee=_(K,2);{var te=C=>{var U=So(),V=u(U);d(U),J(()=>oe(V,`Showing ${e(s).length??""} of ${e(r).length??""} employees`)),g(C,U)};N(ee,C=>{!e(v)&&!e(i)&&C(te)})}d(E);var ce=_(E,2),we=u(ce),ve=u(we);ha(ve);var ue=_(ve,2),ae=_(u(ue),2);Eo(ae,{}),d(ue);var ne=_(ue,2);{var le=C=>{var U=To(),V=u(U,!0);d(U),J(()=>oe(V,e(l))),g(C,U)};N(ne,C=>{e(l)&&C(le)})}d(we),d(ce),d(B),ye(ve,()=>e(p),C=>y(p,C)),M("submit",ce,ls(h)),g(a,B),Ce()}export{Uo as component};

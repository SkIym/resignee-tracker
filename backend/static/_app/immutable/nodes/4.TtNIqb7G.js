import{f as R,a as q}from"../chunks/bgre1PTG.js";import{i as F}from"../chunks/SOPnzMaR.js";import{p as G,t as D,g as e,a as H,$ as I,s as o,c as d,b as t,m,r as i}from"../chunks/BKZzm82k.js";import{h as J,e as A,s as B}from"../chunks/BDimp7fF.js";import{i as K}from"../chunks/Be2-HqVZ.js";import{b as P,r as S,B as Q}from"../chunks/M8bK7g7j.js";import{g as C}from"../chunks/41icJ5db.js";var V=R('<div class="text-red-600 text-sm text-center"> </div>'),W=R('<div class="min-h-screen flex items-center justify-center bg-gray-100 px-4 py-8"><div class="w-full max-w-sm"><form class="space-y-4"><div><label for="username" class="block text-sm font-medium text-gray-700 mb-1">Username</label> <input id="username" name="username" type="text" required class="w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 transition-colors disabled:opacity-50"/></div> <div><label for="password" class="block text-sm font-medium text-gray-700 mb-1">Password</label> <input id="password" name="password" type="password" required class="w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 transition-colors disabled:opacity-50"/></div> <div><label for="confirmPassword" class="block text-sm font-medium text-gray-700 mb-1">Confirm Password</label> <input id="confirmPassword" name="confirmPassword" type="password" required class="w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 transition-colors disabled:opacity-50"/></div> <!> <button type="submit" class="mt-6 w-full py-2 px-4 bg-blue-500 hover:bg-blue-600 disabled:bg-blue-300 text-white font-medium rounded-lg shadow-sm"> </button></form> <div class="mt-5 text-center"><p class="text-left text-sm text-gray-600 mb-1">Already have an account?</p> <button type="button" class="border-3 border-blue-500 w-full py-2 px-4 hover:bg-gray-300 disabled:opacity-50 text-blue-500 font-medium rounded-lg shadow-sm">Login</button></div></div></div>');function se(T,j){G(j,!1);let u=m(""),p=m(""),b=m(""),r=m(!1),l=m("");const E=async a=>{if(a.preventDefault(),t(r,!0),t(l,""),e(p)!==e(b)){t(l,"Passwords do not match"),t(r,!1);return}try{const s=new URLSearchParams;s.append("username",e(u)),s.append("password",e(p));const n=await fetch(`${Q}/accounts`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s,credentials:"include"});if(n.ok)C("/");else{const z=await n.text();t(l,`Sign up failed (${n.status}). ${z||"Please try again."}`)}}catch(s){t(l,`Network error: ${s.message}. Please try again.`)}finally{t(r,!1)}},M=()=>{C("/")};F();var f=W();J(a=>{I.title="Sign Up"});var $=d(f),c=d($),v=d(c),g=o(d(v),2);S(g),i(v);var w=o(v,2),y=o(d(w),2);S(y),i(w);var h=o(w,2),x=o(d(h),2);S(x),i(h);var k=o(h,2);{var N=a=>{var s=V(),n=d(s,!0);i(s),D(()=>B(n,e(l))),q(a,s)};K(k,a=>{e(l)&&a(N)})}var _=o(k,2),O=d(_,!0);i(_),i(c);var L=o(c,2),U=o(d(L),2);i(L),i($),i(f),D(()=>{g.disabled=e(r),y.disabled=e(r),x.disabled=e(r),_.disabled=e(r),B(O,e(r)?"Signing up...":"Sign Up"),U.disabled=e(r)}),P(g,()=>e(u),a=>t(u,a)),P(y,()=>e(p),a=>t(p,a)),P(x,()=>e(b),a=>t(b,a)),A("submit",c,E),A("click",U,M),q(T,f),H()}export{se as component};

import{f as z,a as g,c as Je,t as Lr,d as K}from"../chunks/CO5X12ro.js";import{i as Ue}from"../chunks/BhebSDih.js";import{d as Sr,g as ht,w as ia,a as la,o as yt,c as Tr}from"../chunks/hoQZN_2d.js";import{k as ut,h as Ae,a6 as Mr,a5 as jr,e as Nr,d as zr,g as e,R as Te,f as Ar,i as Fr,j as Qt,l as vt,u as He,an as Br,n as da,o as ca,q as Rr,aq as ua,a4 as Hr,m as ee,aB as Xt,aC as ft,a8 as Jt,aD as bt,aE as $t,aF as Ir,af as Ur,aG as Or,I as Pr,aH as wt,aI as Vr,ak as Yr,aJ as va,L as Wr,aK as qr,t as $,p as De,F as he,ae as _e,a as Ce,c as u,r as d,s as _,V as Zr,G as fa,aL as Gr,ac as gt,b,aM as _t,B as ea,aN as pa,aO as Kr,aP as mt,x as Qr,$ as Xr}from"../chunks/DZq78Ezw.js";import{s as ie,e as M,r as ha,d as Jr,h as $r}from"../chunks/sKjDUr9k.js";import{i as N}from"../chunks/BQGRK2Qk.js";import{s as Re,a as es,c as ze,r as ye,b as be,d as ga,B as Ee,e as ts,f as as}from"../chunks/CdqjsRcG.js";import{g as xt}from"../chunks/BlPk1vJd.js";import{p as me,c as kt,s as Qe,b as Et,a as rs,d as ss}from"../chunks/BgZpowm-.js";function ta(a,t){return t}function ns(a,t,r,s){for(var i=[],f=t.length,c=0;c<f;c++)Ir(t[c].e,i,!0);var v=f>0&&i.length===0&&r!==null;if(v){var p=r.parentNode;Ur(p),p.append(r),s.clear(),Ne(a,t[0].prev,t[f-1].next)}Or(i,()=>{for(var l=0;l<f;l++){var k=t[l];v||(s.delete(k.k),Ne(a,k.prev,k.next)),Pr(k.e,!v)}})}function $e(a,t,r,s,i,f=null){var c=a,v={flags:t,items:new Map,first:null},p=(t&va)!==0;if(p){var l=a;c=Ae?ut(Mr(l)):l.appendChild(jr())}Ae&&Nr();var k=null,F=!1,w=Te(()=>{var h=r();return Hr(h)?h:h==null?[]:ua(h)});zr(()=>{var h=e(w),E=h.length;if(F&&E===0)return;F=E===0;let R=!1;if(Ae){var D=Ar(c)===Fr;D!==(E===0)&&(c=Qt(),ut(c),vt(!1),R=!0)}if(Ae){for(var S=null,W,G=0;G<E;G++){if(He.nodeType===8&&He.data===Br){c=He,R=!0,vt(!1);break}var B=h[G],I=s(B,G);W=_a(He,v,S,null,B,I,G,i,t,r),v.items.set(I,W),S=W}E>0&&ut(Qt())}Ae||os(h,v,c,i,t,s,r),f!==null&&(E===0?k?da(k):k=ca(()=>f(c)):k!==null&&Rr(k,()=>{k=null})),R&&vt(!0),e(w)}),Ae&&(c=He)}function os(a,t,r,s,i,f,c){var pe,fe,re,oe;var v=(i&qr)!==0,p=(i&(wt|bt))!==0,l=a.length,k=t.items,F=t.first,w=F,h,E=null,R,D=[],S=[],W,G,B,I;if(v)for(I=0;I<l;I+=1)W=a[I],G=f(W,I),B=k.get(G),B!==void 0&&((pe=B.a)==null||pe.measure(),(R??(R=new Set)).add(B));for(I=0;I<l;I+=1){if(W=a[I],G=f(W,I),B=k.get(G),B===void 0){var ue=w?w.e.nodes_start:r;E=_a(ue,t,E,E===null?t.first:E.next,W,G,I,s,i,c),k.set(G,E),D=[],S=[],w=E.next;continue}if(p&&is(B,W,I,i),(B.e.f&ft)!==0&&(da(B.e),v&&((fe=B.a)==null||fe.unfix(),(R??(R=new Set)).delete(B))),B!==w){if(h!==void 0&&h.has(B)){if(D.length<S.length){var Q=S[0],q;E=Q.prev;var de=D[0],te=D[D.length-1];for(q=0;q<D.length;q+=1)aa(D[q],Q,r);for(q=0;q<S.length;q+=1)h.delete(S[q]);Ne(t,de.prev,te.next),Ne(t,E,de),Ne(t,te,Q),w=Q,E=te,I-=1,D=[],S=[]}else h.delete(B),aa(B,w,r),Ne(t,B.prev,B.next),Ne(t,B,E===null?t.first:E.next),Ne(t,E,B),E=B;continue}for(D=[],S=[];w!==null&&w.k!==G;)(w.e.f&ft)===0&&(h??(h=new Set)).add(w),S.push(w),w=w.next;if(w===null)continue;B=w}D.push(B),E=B,w=B.next}if(w!==null||h!==void 0){for(var ae=h===void 0?[]:ua(h);w!==null;)(w.e.f&ft)===0&&ae.push(w),w=w.next;var ve=ae.length;if(ve>0){var we=(i&va)!==0&&l===0?r:null;if(v){for(I=0;I<ve;I+=1)(re=ae[I].a)==null||re.measure();for(I=0;I<ve;I+=1)(oe=ae[I].a)==null||oe.fix()}ns(t,ae,we,k)}}v&&Wr(()=>{var ce;if(R!==void 0)for(B of R)(ce=B.a)==null||ce.apply()}),Jt.first=t.first&&t.first.e,Jt.last=E&&E.e}function is(a,t,r,s){(s&wt)!==0&&$t(a.v,t),(s&bt)!==0?$t(a.i,r):a.i=r}function _a(a,t,r,s,i,f,c,v,p,l){var k=(p&wt)!==0,F=(p&Vr)===0,w=k?F?ee(i,!1,!1):Xt(i):i,h=(p&bt)===0?c:Xt(c),E={i:h,v:w,k:f,a:null,e:null,prev:r,next:s};try{return E.e=ca(()=>v(a,w,h,l),Ae),E.e.prev=r&&r.e,E.e.next=s&&s.e,r===null?t.first=E:(r.next=E,r.e.next=E.e),s!==null&&(s.prev=E,s.e.prev=E.e),E}finally{}}function aa(a,t,r){for(var s=a.next?a.next.e.nodes_start:r,i=t?t.e.nodes_start:r,f=a.e.nodes_start;f!==s;){var c=Yr(f);i.before(f),f=c}}function Ne(a,t,r){t===null?a.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function ls(a){return function(...t){var r=t[0];return r.preventDefault(),a==null?void 0:a.apply(this,t)}}function ds(a,t,r,s){var i,f,c=!1,v=r.length>=2,p=(E,R,D)=>{if(i=R,v&&(f=E),!c){let S=t(E,R,D);if(t.length<2)R(S);else return S}c=!1},l=Sr(a,p,s),k=!Array.isArray(a);function F(E){var R=r(E,f);k?(c=!0,a.set(R)):R.forEach((D,S)=>{c=!0,a[S].set(D)}),c=!1}var w=!1;function h(E){var R,D,S,W;if(w){W=E(ht(l)),i(W);return}var G=l.subscribe(B=>{w?R?D=!0:R=!0:S=B});W=E(S),w=!0,i(W),G(),w=!1,D&&(W=ht(l)),R&&F(W)}return{subscribe:l.subscribe,set(E){h(()=>E)},update:h}}const cs=20,Fe=ia([]),Dt=ia(null),Xe=new Map,ra=a=>{if(Xe.has(a))return;const t=setTimeout(()=>{Xe.delete(a),xa(a)},1e3);Xe.set(a,t)},us=a=>{const t=Xe.get(a);t&&clearTimeout(t)};function ma(a,t=!0){t&&a.id&&us(a.id),Fe.update(r=>r.map(s=>s.id===a.id?{...s,...a}:s))}function vs(a){Fe.update(t=>[a,...t].slice(0,cs))}function fs(a){ht(Fe).find(t=>t.id===a.id)?ma(a):vs(a)}function ps(a){Fe.update(t=>(a?ra(a):t.forEach(r=>{ra(r.id)}),t.map(r=>r.id===a||a===void 0?{...r,visible:!1}:r)))}function xa(a){Fe.update(t=>a===void 0?[]:t.filter(r=>r.id!==a))}function hs(a){Dt.set(a)}function gs(a){let t;Dt.update(r=>(t=a-(r||0),null)),Fe.update(r=>r.map(s=>({...s,pauseDuration:s.pauseDuration+t})))}const _s={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3};function ms(a={}){return{toasts:ds(Fe,r=>r.map(s=>{var i,f;return{...a,...a[s.type],...s,duration:s.duration||((i=a[s.type])==null?void 0:i.duration)||(a==null?void 0:a.duration)||_s[s.type],style:[a.style,(f=a[s.type])==null?void 0:f.style,s.style].join(";")}}),r=>r),pausedAt:Dt}}const xs=a=>typeof a=="function",sa=(a,t)=>xs(a)?a(t):a,ys=(()=>{let a=0;return()=>(a+=1,a.toString())})(),ya=(()=>{let a;return()=>{if(a===void 0&&typeof window<"u"){const t=matchMedia("(prefers-reduced-motion: reduce)");a=!t||t.matches}return a}})(),bs=(a,t="blank",r)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:a,pauseDuration:0,icon:r==null?void 0:r.icon,duration:r==null?void 0:r.duration,iconTheme:r==null?void 0:r.iconTheme,position:r==null?void 0:r.position,props:r==null?void 0:r.props,id:(r==null?void 0:r.id)||ys()}),Oe=a=>(t,r)=>{const s=bs(t,a,r);return fs(s),s.id},le=(a,t)=>Oe("blank")(a,t);le.error=Oe("error");le.success=Oe("success");le.loading=Oe("loading");le.custom=Oe("custom");le.dismiss=a=>{ps(a)};le.remove=a=>xa(a);le.promise=(a,t,r)=>{const s=le.loading(t.loading,{...r,...r==null?void 0:r.loading});return a.then(i=>(le.success(sa(t.success,i),{id:s,...r,...r==null?void 0:r.success}),i)).catch(i=>{le.error(sa(t.error,i),{id:s,...r,...r==null?void 0:r.error})}),a};function ws(a,t,r){const{reverseOrder:s,gutter:i=8,defaultPosition:f}=r||{},c=t.filter(k=>(k.position||f)===(a.position||f)&&k.height),v=c.findIndex(k=>k.id===a.id),p=c.filter((k,F)=>F<v&&k.visible).length;return c.filter(k=>k.visible).slice(...s?[p+1]:[0,p]).reduce((k,F)=>k+(F.height||0)+i,0)}const ks={startPause(){hs(Date.now())},endPause(){gs(Date.now())},updateHeight:(a,t)=>{ma({id:a,height:t},!1)},calculateOffset:ws};function Es(a){const{toasts:t,pausedAt:r}=ms(a),s=new Map;let i;const f=[r.subscribe(c=>{if(c){for(const[,v]of s)clearTimeout(v);s.clear()}i=c}),t.subscribe(c=>{if(i)return;const v=Date.now();for(const p of c){if(s.has(p.id)||p.duration===1/0)continue;const l=(p.duration||0)+p.pauseDuration-(v-p.createdAt);if(l<0)return p.visible&&le.dismiss(p.id),null;s.set(p.id,setTimeout(()=>le.dismiss(p.id),l))}})];return la(()=>{for(const c of f)c()}),{toasts:t,handlers:ks}}var Ds=z('<div class="svelte-11kvm4p"></div>');function Cs(a,t){let r=me(t,"primary",3,"#61d345"),s=me(t,"secondary",3,"#fff");var i=Ds();let f;$(()=>f=Re(i,"",f,{"--primary":r(),"--secondary":s()})),g(a,i)}var Ls=z('<div class="svelte-1ee93ns"></div>');function Ss(a,t){let r=me(t,"primary",3,"#ff4b4b"),s=me(t,"secondary",3,"#fff");var i=Ls();let f;$(()=>f=Re(i,"",f,{"--primary":r(),"--secondary":s()})),g(a,i)}var Ts=z('<div class="svelte-1j7dflg"></div>');function Ms(a,t){let r=me(t,"primary",3,"#616161"),s=me(t,"secondary",3,"#e0e0e0");var i=Ts();let f;$(()=>f=Re(i,"",f,{"--primary":r(),"--secondary":s()})),g(a,i)}var js=z('<div class="animated svelte-1kgeier"> </div>'),Ns=z('<div class="status svelte-1kgeier"><!></div>'),zs=z('<div class="indicator svelte-1kgeier"><!> <!></div>');function ba(a,t){De(t,!0);let r=_e(()=>t.toast.type),s=_e(()=>t.toast.icon),i=_e(()=>t.toast.iconTheme);var f=Je(),c=he(f);{var v=l=>{var k=js(),F=u(k,!0);d(k),$(()=>ie(F,e(s))),g(l,k)},p=(l,k)=>{{var F=h=>{var E=Je(),R=he(E);kt(R,()=>e(s),(D,S)=>{S(D,{})}),g(h,E)},w=(h,E)=>{{var R=D=>{var S=zs(),W=u(S);Ms(W,Qe(()=>e(i)));var G=_(W,2);{var B=I=>{var ue=Ns(),Q=u(ue);{var q=te=>{Ss(te,Qe(()=>e(i)))},de=te=>{Cs(te,Qe(()=>e(i)))};N(Q,te=>{e(r)==="error"?te(q):te(de,!1)})}d(ue),g(I,ue)};N(G,I=>{e(r)!=="loading"&&I(B)})}d(S),g(D,S)};N(h,D=>{e(r)!=="blank"&&D(R)},E)}};N(l,h=>{typeof e(s)<"u"?h(F):h(w,!1)},k)}};N(c,l=>{typeof e(s)=="string"?l(v):l(p,!1)})}g(a,f),Ce()}var As=z("<div><!></div>");function Ct(a,t){De(t,!0);let r=Zr(t.toast.message);var s=As();es(s,()=>({class:"message",...t.toast.ariaProps}),void 0,"svelte-1nauejd");var i=u(s);{var f=v=>{var p=Lr();$(()=>ie(p,t.toast.message)),g(v,p)},c=v=>{var p=Je(),l=he(p);kt(l,()=>r,(k,F)=>{F(k,Qe({get toast(){return t.toast}},()=>t.toast.props))}),g(v,p)};N(i,v=>{typeof t.toast.message=="string"?v(f):v(c,!1)})}d(s),g(a,s),Ce()}const Fs=(a,t=fa)=>{var r=Bs(),s=he(r);ba(s,{get toast(){return t().toast}});var i=_(s,2);Ct(i,{get toast(){return t().toast}}),g(a,r)};var Bs=z("<!> <!>",1),Rs=z("<div><!></div>");function Hs(a,t){De(t,!0);let r=me(t,"position",3,void 0),s=me(t,"Component",3,void 0),i=_e(()=>(t.toast.position||r()||"top-center").includes("top")),f=_e(()=>e(i)?1:-1);const c=_e(()=>ya()?["fadeIn","fadeOut"]:["enter","exit"]),v=_e(()=>Gr(e(c),2)),p=_e(()=>e(v)[0]),l=_e(()=>e(v)[1]);let k=_e(()=>t.toast.visible?e(p):e(l));var F=Rs();let w;var h=u(F);{var E=D=>{var S=Je(),W=he(S);kt(W,s,(G,B)=>{B(G,{$$slots:{icon:(I,ue)=>{ba(I,{get toast(){return t.toast},slot:"icon"})},message:(I,ue)=>{Ct(I,{get toast(){return t.toast},slot:"message"})}}})}),g(D,S)},R=D=>{Fs(D,()=>({toast:t.toast}))};N(h,D=>{s()?D(E):D(R,!1)})}d(F),$(()=>{ze(F,1,`base ${(t.toast.height?e(k):"transparent")??""} ${(t.toast.className||"")??""}`,"svelte-1c9srrs"),w=Re(F,t.toast.style,w,{"--factor":e(f)})}),g(a,F),Ce()}const Is=(a,t=fa)=>{Hs(a,{get toast(){return t().toast},get position(){return t().toast.position}})};var Us=z("<div><!></div>");function Os(a,t){De(t,!0);let r=gt(void 0);yt(()=>{var h,E,R;(R=t.setHeight)==null||R.call(t,(E=(h=e(r))==null?void 0:h.getBoundingClientRect())==null?void 0:E.height)});let s=_e(()=>{var h;return(h=t.toast.position)!=null&&h.includes("top")?0:null}),i=_e(()=>{var h;return(h=t.toast.position)!=null&&h.includes("bottom")?0:null}),f=_e(()=>{var h;return(h=t.toast.position)!=null&&h.includes("top")?1:-1}),c=_e(()=>{var h,E,R;return((h=t.toast.position)==null?void 0:h.includes("center"))&&"center"||(((E=t.toast.position)==null?void 0:E.includes("right"))||((R=t.toast.position)==null?void 0:R.includes("end")))&&"flex-end"||null});var v=Us();let p,l;var k=u(v);{var F=h=>{Ct(h,{get toast(){return t.toast}})},w=h=>{Is(h,()=>({toast:t.toast}))};N(k,h=>{t.toast.type==="custom"?h(F):h(w,!1)})}d(v),Et(v,h=>b(r,h),()=>e(r)),$(h=>{p=ze(v,1,"wrapper svelte-v01oml",null,p,h),l=Re(v,"",l,{"--factor":e(f),"--offset":t.toast.offset,top:e(s),bottom:e(i),"justify-content":e(c)})},[()=>({active:t.toast.visible,transition:!ya()})]),g(a,v),Ce()}var Ps=z('<div role="alert"></div>');function Vs(a,t){De(t,!0);const[r,s]=rs(),i=()=>ss(p,"$toasts",r);let f=me(t,"reverseOrder",3,!1),c=me(t,"position",3,"top-center"),v=me(t,"gutter",3,8);const{toasts:p,handlers:l}=Es(t.toastOptions);let k=_e(()=>i().map(w=>({...w,position:w.position||c(),offset:l.calculateOffset(w,i(),{reverseOrder:f(),gutter:v(),defaultPosition:c()})})));var F=Ps();$e(F,21,()=>e(k),w=>w.id,(w,h)=>{Os(w,{get toast(){return e(h)},setHeight:E=>l.updateHeight(e(h).id,E??0)})}),d(F),$(()=>{ze(F,1,`toaster ${(t.containerClassName||"")??""}`,"svelte-1phplh9"),Re(F,t.containerStyle)}),M("mouseenter",F,function(...w){var h;(h=l.startPause)==null||h.apply(this,w)}),M("mouseleave",F,function(...w){var h;(h=l.endPause)==null||h.apply(this,w)}),g(a,F),Ce(),s()}var Ys=K('<path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"></path>'),Ws=K('<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path>'),qs=K('<path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"></path>'),Zs=K('<path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"></path>'),Gs=K('<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path>'),Ks=K('<path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"></path>'),Qs=K('<path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"></path>'),Xs=K('<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path>'),Js=K('<path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"></path>'),$s=K('<path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"></path>'),en=K('<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path>'),tn=K('<path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"></path>'),an=K('<path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"></path>'),rn=K('<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path>'),sn=K('<path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"></path>'),nn=K('<path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"></path>'),on=K('<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path>'),ln=K('<path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"></path>'),dn=K('<path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"></path>'),cn=K('<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path>'),un=K('<path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"></path>'),vn=K('<path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"></path>'),fn=K('<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path>'),pn=K('<path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"></path>'),hn=K('<path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"></path>'),gn=K('<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path>'),_n=K('<path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"></path>'),mn=K('<path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"></path>'),xn=K('<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path>'),yn=K('<path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"></path>'),bn=z('<input type="date" class="text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/> <button type="button" class="text-green-600 hover:text-green-800 transition-colors" title="Save changes"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></button>',1),wn=z('<span class="flex-1"> </span> <button type="button" class="text-gray-400 hover:text-gray-600 transition-colors" title="Edit last day"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button>',1),kn=z('<div class="flex flex-col gap-2"><div class="flex items-center gap-2"><input type="date" class="text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/> <button type="button" class="text-green-600 hover:text-green-800 transition-colors" title="Save changes"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></button></div> <button type="button" class="text-xs border border-gray-300 hover:bg-gray-300 text-gray-700 w-21.5 rounded px-2 py-1 transition-colors" title="Mark as no existing account">No account</button></div>'),En=z('<span class="inline-flex w-5 h-5 text-xs font-medium rounded-full bg-red-600 text-white items-center justify-center">L</span>'),Dn=z('<!> <span> </span> <button type="button" class="text-gray-400 hover:text-gray-600 transition-colors" title="Edit batch deactivation date"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button>',1),Cn=z('<div class="flex flex-col gap-2"><div class="flex items-center gap-2"><input type="date" class="text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/> <button type="button" class="text-green-600 hover:text-green-800 transition-colors" title="Save changes"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></button></div> <button type="button" class="text-xs border border-gray-300 hover:bg-gray-300 text-gray-700 w-21.5 rounded px-2 py-1 transition-colors" title="Mark as no existing account">No account</button></div>'),Ln=z('<span class="inline-flex w-5 h-5 text-xs font-medium rounded-full bg-red-600 text-white items-center justify-center">L</span>'),Sn=z('<!> <span> </span> <button type="button" class="text-gray-400 hover:text-gray-600 transition-colors" title="Edit batch deactivation date"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button>',1),Tn=z('<div class="flex flex-col gap-2"><div class="flex items-center gap-2"><input type="date" class="text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/> <button type="button" class="text-green-600 hover:text-green-800 transition-colors" title="Save changes"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></button></div> <button type="button" class="text-xs border border-gray-300 hover:bg-gray-300 text-gray-700 w-21.5 rounded px-2 py-1 transition-colors" title="Mark as no existing account">No account</button></div>'),Mn=z('<span class="inline-flex w-5 h-5 text-xs font-medium rounded-full bg-red-600 text-white items-center justify-center">L</span>'),jn=z('<!> <span> </span> <button type="button" class="text-gray-400 hover:text-gray-600 transition-colors" title="Edit batch deactivation date"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button>',1),Nn=z('<div class="flex flex-col gap-2"><div class="flex items-center gap-2"><input type="date" class="text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/> <button type="button" class="text-green-600 hover:text-green-800 transition-colors" title="Save changes"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></button></div> <button type="button" class="text-xs border border-gray-300 hover:bg-gray-300 text-gray-700 w-21.5 rounded px-2 py-1 transition-colors" title="Mark as no existing account">No account</button></div>'),zn=z('<span class="inline-flex w-5 h-5 text-xs font-medium rounded-full bg-red-600 text-white items-center justify-center">L</span>'),An=z('<!> <span> </span> <button type="button" class="text-gray-400 hover:text-gray-600 transition-colors" title="Edit batch deactivation date"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button>',1),Fn=z('<input type="date" class="text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/> <button type="button" class="text-green-600 hover:text-green-800 transition-colors" title="Save changes"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></button>',1),Bn=z('<span class="flex-1"> </span> <button type="button" class="text-gray-400 hover:text-gray-600 transition-colors" title="Edit date for HR email"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button>',1),Rn=z('<input type="checkbox" class="w-5 h-5 text-green-600 rounded border-gray-300 focus:ring-green-500 cursor-pointer align-middle"/>'),Hn=z('<div class="w-4 h-4 bg-gray-400 border-2 border-gray-400 rounded cursor-not-allowed align-middle inline-block" title="Incomplete details"></div>'),In=z('<textarea rows="3" class="text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 h-20 w-28"></textarea> <button type="button" class="text-green-600 hover:text-green-800 transition-colors flex-shrink-0 mt-1" title="Save changes"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></button>',1),Un=z('<span class="flex-1 text-xs break-all hyphens-auto"> </span> <button type="button" class="text-gray-400 hover:text-gray-600 transition-colors flex-shrink-0 mt-1" title="Edit remarks"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button>',1),On=z('<tr class="hover:bg-gray-50 transition-colors"><td class="px-3 py-2 whitespace-normal text-xs font-medium text-gray-900 sticky left-0 bg-white"> </td><td class="pl-3 py-2 whitespace-nowrap text-xs text-gray-900"> </td><td class="pl-3 py-2 whitespace-normal text-xs text-gray-900"> </td><td class="pl-3 py-2 whitespace-normal text-xs font-medium text-gray-900"> </td><td class="pl-3 py-2 whitespace-normal text-xs text-gray-900"> </td><td class="pl-3 py-2 whitespace-normal text-xs text-gray-900"> </td><td class="pl-3 py-2 whitespace-normal text-xs text-gray-900"> </td><td class="pl-3 py-2 whitespace-nowrap text-xs text-gray-900"><div class="flex items-center gap-2"><!></div></td><td class="pl-3 py-2 whitespace-nowrap text-xs text-gray-900"><div class="flex items-center gap-2"><!></div></td><td class="pl-3 py-2 whitespace-nowrap text-xs text-gray-900"><div class="flex items-center gap-2"><!></div></td><td class="pl-3 py-2 whitespace-nowrap text-xs text-gray-900"><div class="flex items-center gap-2"><!></div></td><td class="pl-3 py-2 whitespace-nowrap text-xs text-gray-900"><div class="flex items-center gap-2"><!></div></td><td class="pl-3 py-2 whitespace-nowrap text-xs text-gray-900"><div class="flex items-center gap-2"><!></div></td><td class="pl-5 py-4 whitespace-nowrap text-xs text-gray-500 text-center align-middle z-10"><!></td><td class="px-3 py-2 text-xs text-gray-900 w-80 max-w-80"><div class="flex items-start gap-2"><!></div></td></tr>'),Pn=z('<div class="text-center py-12"><svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> <h3 class="mt-2 text-xs font-medium text-gray-900">No employees found</h3></div>'),Vn=z('<!> <div class="outer-wrapper"><div class="table-wrapper rounded-md svelte-r4r2gy"><table class="min-w-full text-xs text-left text-gray-700 bg-white svelte-r4r2gy"><thead class="bg-gray-100 text-xs text-gray-500 uppercase sticky top-0 z-20"><tr><th class="px-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors sticky left-0 top-0 bg-gray-100 z-30"><div class="flex items-center gap-1"># <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20"><!></svg></div></th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors"><div class="flex items-center gap-1">Date hired <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20"><!></svg></div></th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider">Cost center</th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors"><div class="flex items-center gap-1">Name <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20"><!></svg></div></th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider">Position title</th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider">Rank</th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors"><div class="flex items-center gap-1">Department <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20"><!></svg></div></th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors"><div class="flex items-center gap-1">Last day <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20"><!></svg></div></th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors"><div class="flex items-center gap-1">Batch Deactivation <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20"><!></svg></div></th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors"><div class="flex items-center gap-1">3rd Party Systems <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20"><!></svg></div></th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors"><div class="flex items-center gap-1">Emails <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20"><!></svg></div></th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors"><div class="flex items-center gap-1">Windows <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20"><!></svg></div></th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors"><div class="flex items-center gap-1">HR Email <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20"><!></svg></div></th><th class="pl-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider">Status</th><th class="px-6 py-3 text-left text-[11px] font-bold text-gray-500 uppercase tracking-wider w-80 max-w-80">Remarks</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"></tbody></table> <!></div> <div class="sticky-scrollbar-container bg-gray-50 border-t border-gray-300 h-5 z-10"><div class="h-5"></div></div></div>',1);function Yn(a,t){De(t,!1);const r=ee();let s=me(t,"employees",28,()=>[]),i=me(t,"onstatustoggle",8),f=me(t,"onEmployeeUpdate",8,void 0),c=ee(""),v=ee("asc"),p=ee(null),l=ee(""),k=null,F=ee(null);function w(o){e(c)==o?b(v,e(v)==="asc"?"desc":"asc"):(b(c,o),b(v,"asc"))}function h(o){return o?new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"}function E(o){if(!o)return"";const n=new Date(o),j=n.getFullYear(),Y=String(n.getMonth()+1).padStart(2,"0"),m=String(n.getDate()).padStart(2,"0");return`${j}-${Y}-${m}`}function R(o,n){b(p,{id:o.employee_no,key:n}),typeof o[n]!="boolean"&&(S(o[n])?b(l,""):b(l,E(o[n])))}async function D(o){if(!e(p))return;const{key:n}=e(p);try{const j=e(l).trim();let Y,m,T;if(j==="NO_ACCOUNT")Y="1900-01-01",m='Marked as "No existing account" for employee no. '+o.employee_no;else{const xe=new Date(j);if(!j||isNaN(xe.getTime()))throw new Error("Invalid date format");Y=j,m="Changes saved for employee no. "+o.employee_no}switch(n){case"last_day":T=`${Ee}/resignees/${o.employee_no}/last_day`;break;case"um":T=`${Ee}/resignees/${o.employee_no}/um`;break;case"third_party":T=`${Ee}/resignees/${o.employee_no}/third-party`;break;case"email":T=`${Ee}/resignees/${o.employee_no}/email`;break;case"windows":T=`${Ee}/resignees/${o.employee_no}/windows`;break;case"date_hr_emailed":T=`${Ee}/resignees/${o.employee_no}/date_hr_emailed`;break;default:throw new Error(`Unknown field: ${n}`)}const Se=await fetch(T,{method:"PUT",headers:{"Content-Type":"text/plain"},body:Y,credentials:"include"});if(!Se.ok){const xe=await Se.text();throw new Error(`Error ${Se.status}: ${xe}`)}const je=await Se.json(),Le=s().findIndex(xe=>xe.employee_no===o.employee_no);if(Le!==-1){if(j==="NO_ACCOUNT"){if(n in s()[Le]){s(s()[Le][n]="1900-01-01",!0);const xe=n.concat("_late");s(s()[Le][xe]=!1,!0)}}else if(n in s()[Le]&&s(s()[Le][n]=new Date(j).toISOString(),!0),n=="um"||n=="third_party"||n=="email"||n=="windows"){const xe=n.concat("_late");xe in s()[Le]&&s(s()[Le][xe]=je.late,!0)}f()&&(n==="last_day"||n==="date_hr_emailed")&&f()()}}catch(j){console.error("Error updating field:",j);const Y=j instanceof Error?j.message:"Unknown error";le.error(`Failed to update field: ${Y}`)}finally{b(p,null),b(l,"")}}function S(o){if(!o)return!1;const n=new Date(o);return n.getFullYear()===1900&&n.getMonth()===0&&n.getDate()===1}function W(){b(p,null),b(l,"")}async function G(o){if(e(p))try{const n=e(l).trim(),j=await fetch(`https://localhost:8000/resignees/${o.employee_no}/remarks`,{method:"PUT",headers:{"Content-Type":"text/plain"},body:n,credentials:"include"});if(!j.ok){const m=await j.text();throw new Error(`Error ${j.status}: ${m}`)}const Y=s().findIndex(m=>m.employee_no===o.employee_no);Y!==-1&&(s(s()[Y].remarks=n,!0),s([...s()]),le.success("Remarks updated for employee no. "+o.employee_no))}catch(n){console.error("Error updating remarks:",n);const j=n instanceof Error?n.message:"Unknown error";alert(`Failed to update remarks: ${j}`)}finally{b(p,null),b(l,"")}}function B(o){b(p,{id:o.employee_no,key:"remarks"}),b(l,String(o.remarks||""))}function I(o){o.key==="Escape"&&W()}function ue(o){return[o.um,o.third_party,o.email,o.windows].every(j=>j&&j.trim()!=="")}function Q(o){const j=(o.processed_date_time?"processed":"unprocessed")==="processed"?"unprocess":"process";i()&&i()({detail:{employee:o,action:j}}),setTimeout(()=>{j==="process"?le.success("Employee no. "+o.employee_no+" marked as processed"):le.success("Employee no. "+o.employee_no+" marked as unprocessed")},300)}yt(()=>(typeof window<"u"&&window.addEventListener("resize",()=>{}),()=>{})),la(()=>{}),_t(()=>(ea(s()),e(c),e(v)),()=>{b(r,[...s()].sort((o,n)=>{if(!e(c))return 0;let j=o[e(c)],Y=n[e(c)];if(typeof j=="boolean"||typeof Y=="boolean")return 0;if(e(c)==="date_hired"||e(c)==="last_day"||e(c)==="um"||e(c)==="third_party"||e(c)==="email"||e(c)==="windows"){const Se=new Date(j||"1900-01-01"),je=new Date(Y||"1900-01-01");return Se<je?e(v)==="asc"?-1:1:Se>je?e(v)==="asc"?1:-1:0}const m=String(j||""),T=String(Y||"");return m<T?e(v)==="asc"?-1:1:m>T?e(v)==="asc"?1:-1:0}))}),_t(()=>(ea(s()),e(F)),()=>{s()}),pa(),Ue();var q=Vn();M("keydown",Kr,I);var de=he(q);Vs(de,{});var te=_(de,2),ae=u(te),ve=u(ae),we=u(ve),pe=u(we),fe=u(pe),re=u(fe),oe=_(u(re)),ce=u(oe);{var C=o=>{var n=Ys();g(o,n)},U=(o,n)=>{{var j=m=>{var T=Ws();g(m,T)},Y=m=>{var T=qs();g(m,T)};N(o,m=>{e(c)==="employee_no"&&e(v)==="desc"?m(j):m(Y,!1)},n)}};N(ce,o=>{e(c)==="employee_no"&&e(v)==="asc"?o(C):o(U,!1)})}d(oe),d(re),d(fe);var V=_(fe),A=u(V),O=_(u(A)),Z=u(O);{var X=o=>{var n=Zs();g(o,n)},ke=(o,n)=>{{var j=m=>{var T=Gs();g(m,T)},Y=m=>{var T=Ks();g(m,T)};N(o,m=>{e(c)==="date_hired"&&e(v)==="desc"?m(j):m(Y,!1)},n)}};N(Z,o=>{e(c)==="date_hired"&&e(v)==="asc"?o(X):o(ke,!1)})}d(O),d(A),d(V);var Me=_(V,2),Be=u(Me),Pe=_(u(Be)),Ca=u(Pe);{var La=o=>{var n=Qs();g(o,n)},Sa=(o,n)=>{{var j=m=>{var T=Xs();g(m,T)},Y=m=>{var T=Js();g(m,T)};N(o,m=>{e(c)==="name"&&e(v)==="desc"?m(j):m(Y,!1)},n)}};N(Ca,o=>{e(c)==="name"&&e(v)==="asc"?o(La):o(Sa,!1)})}d(Pe),d(Be),d(Me);var Ve=_(Me,3),Lt=u(Ve),St=_(u(Lt)),Ta=u(St);{var Ma=o=>{var n=$s();g(o,n)},ja=(o,n)=>{{var j=m=>{var T=en();g(m,T)},Y=m=>{var T=tn();g(m,T)};N(o,m=>{e(c)==="department"&&e(v)==="desc"?m(j):m(Y,!1)},n)}};N(Ta,o=>{e(c)==="department"&&e(v)==="asc"?o(Ma):o(ja,!1)})}d(St),d(Lt),d(Ve);var Ye=_(Ve),Tt=u(Ye),Mt=_(u(Tt)),Na=u(Mt);{var za=o=>{var n=an();g(o,n)},Aa=(o,n)=>{{var j=m=>{var T=rn();g(m,T)},Y=m=>{var T=sn();g(m,T)};N(o,m=>{e(c)==="last_day"&&e(v)==="desc"?m(j):m(Y,!1)},n)}};N(Na,o=>{e(c)==="last_day"&&e(v)==="asc"?o(za):o(Aa,!1)})}d(Mt),d(Tt),d(Ye);var We=_(Ye),jt=u(We),Nt=_(u(jt)),Fa=u(Nt);{var Ba=o=>{var n=nn();g(o,n)},Ra=(o,n)=>{{var j=m=>{var T=on();g(m,T)},Y=m=>{var T=ln();g(m,T)};N(o,m=>{e(c)==="um"&&e(v)==="desc"?m(j):m(Y,!1)},n)}};N(Fa,o=>{e(c)==="um"&&e(v)==="asc"?o(Ba):o(Ra,!1)})}d(Nt),d(jt),d(We);var qe=_(We),zt=u(qe),At=_(u(zt)),Ha=u(At);{var Ia=o=>{var n=dn();g(o,n)},Ua=(o,n)=>{{var j=m=>{var T=cn();g(m,T)},Y=m=>{var T=un();g(m,T)};N(o,m=>{e(c)==="last_day"&&e(v)==="desc"?m(j):m(Y,!1)},n)}};N(Ha,o=>{e(c)==="last_day"&&e(v)==="asc"?o(Ia):o(Ua,!1)})}d(At),d(zt),d(qe);var Ze=_(qe),Ft=u(Ze),Bt=_(u(Ft)),Oa=u(Bt);{var Pa=o=>{var n=vn();g(o,n)},Va=(o,n)=>{{var j=m=>{var T=fn();g(m,T)},Y=m=>{var T=pn();g(m,T)};N(o,m=>{e(c)==="last_day"&&e(v)==="desc"?m(j):m(Y,!1)},n)}};N(Oa,o=>{e(c)==="last_day"&&e(v)==="asc"?o(Pa):o(Va,!1)})}d(Bt),d(Ft),d(Ze);var Ge=_(Ze),Rt=u(Ge),Ht=_(u(Rt)),Ya=u(Ht);{var Wa=o=>{var n=hn();g(o,n)},qa=(o,n)=>{{var j=m=>{var T=gn();g(m,T)},Y=m=>{var T=_n();g(m,T)};N(o,m=>{e(c)==="last_day"&&e(v)==="desc"?m(j):m(Y,!1)},n)}};N(Ya,o=>{e(c)==="last_day"&&e(v)==="asc"?o(Wa):o(qa,!1)})}d(Ht),d(Rt),d(Ge);var et=_(Ge),It=u(et),Ut=_(u(It)),Za=u(Ut);{var Ga=o=>{var n=mn();g(o,n)},Ka=(o,n)=>{{var j=m=>{var T=xn();g(m,T)},Y=m=>{var T=yn();g(m,T)};N(o,m=>{e(c)==="last_day"&&e(v)==="desc"?m(j):m(Y,!1)},n)}};N(Za,o=>{e(c)==="last_day"&&e(v)==="asc"?o(Ga):o(Ka,!1)})}d(Ut),d(It),d(et),mt(2),d(pe),d(we);var Ot=_(we);$e(Ot,7,()=>e(r),o=>o.employee_no,(o,n)=>{var j=On(),Y=u(j),m=u(Y,!0);d(Y);var T=_(Y),Se=u(T,!0);d(T);var je=_(T),Le=u(je,!0);d(je);var xe=_(je),$a=u(xe,!0);d(xe);var tt=_(xe),er=u(tt,!0);d(tt);var at=_(tt),tr=u(at,!0);d(at);var rt=_(at),ar=u(rt,!0);d(rt);var st=_(rt),Pt=u(st),rr=u(Pt);{var sr=L=>{var y=bn(),x=he(y);ye(x);var P=_(x,2);be(x,()=>e(l),H=>b(l,H)),M("keydown",x,H=>{H.key==="Enter"&&D(e(n))}),M("click",P,()=>D(e(n))),g(L,y)},nr=L=>{var y=wn(),x=he(y),P=u(x,!0);d(x);var H=_(x,2);$(se=>ie(P,se),[()=>h(e(n).last_day)],Te),M("click",H,()=>R(e(n),"last_day")),g(L,y)};N(rr,L=>{var y,x;((y=e(p))==null?void 0:y.id)===e(n).employee_no&&((x=e(p))==null?void 0:x.key)==="last_day"?L(sr):L(nr,!1)})}d(Pt),d(st);var nt=_(st),Vt=u(nt),or=u(Vt);{var ir=L=>{var y=kn(),x=u(y),P=u(x);ye(P);var H=_(P,2);d(x);var se=_(x,2);d(y),be(P,()=>e(l),J=>b(l,J)),M("keydown",P,J=>{J.key==="Enter"&&D(e(n))}),M("click",H,()=>D(e(n))),M("click",se,()=>{b(l,"NO_ACCOUNT"),D(e(n))}),g(L,y)},lr=L=>{var y=Dn(),x=he(y);{var P=ne=>{var ge=En();g(ne,ge)};N(x,ne=>{e(n).um_late&&ne(P)})}var H=_(x,2),se=u(H,!0);d(H);var J=_(H,2);$((ne,ge)=>{ze(H,1,`inline-flex px-2 py-1 text-xs font-medium rounded-full ${ne??""}`),ie(se,ge)},[()=>S(e(n).um)?"bg-[#FFF3CD] text-[#856404]":e(n).um?"bg-[#CFEED8] text-[#1E9F37]":"bg-[#FED9DA] text-[#D7313E]",()=>S(e(n).um)?"No account":e(n).um?h(e(n).um):"N/A"],Te),M("click",J,()=>R(e(n),"um")),g(L,y)};N(or,L=>{var y,x;((y=e(p))==null?void 0:y.id)===e(n).employee_no&&((x=e(p))==null?void 0:x.key)==="um"?L(ir):L(lr,!1)})}d(Vt),d(nt);var ot=_(nt),Yt=u(ot),dr=u(Yt);{var cr=L=>{var y=Cn(),x=u(y),P=u(x);ye(P);var H=_(P,2);d(x);var se=_(x,2);d(y),be(P,()=>e(l),J=>b(l,J)),M("keydown",P,J=>{J.key==="Enter"&&D(e(n))}),M("click",H,()=>D(e(n))),M("click",se,()=>{b(l,"NO_ACCOUNT"),D(e(n))}),g(L,y)},ur=L=>{var y=Sn(),x=he(y);{var P=ne=>{var ge=Ln();g(ne,ge)};N(x,ne=>{e(n).third_party_late&&ne(P)})}var H=_(x,2),se=u(H,!0);d(H);var J=_(H,2);$((ne,ge)=>{ze(H,1,`inline-flex px-2 py-1 text-xs font-medium rounded-full ${ne??""}`),ie(se,ge)},[()=>S(e(n).third_party)?"bg-[#FFF3CD] text-[#856404]":e(n).third_party?"bg-[#CFEED8] text-[#1E9F37]":"bg-[#FED9DA] text-[#D7313E]",()=>S(e(n).third_party)?"No account":e(n).third_party?h(e(n).third_party):"N/A"],Te),M("click",J,()=>R(e(n),"third_party")),g(L,y)};N(dr,L=>{var y,x;((y=e(p))==null?void 0:y.id)===e(n).employee_no&&((x=e(p))==null?void 0:x.key)==="third_party"?L(cr):L(ur,!1)})}d(Yt),d(ot);var it=_(ot),Wt=u(it),vr=u(Wt);{var fr=L=>{var y=Tn(),x=u(y),P=u(x);ye(P);var H=_(P,2);d(x);var se=_(x,2);d(y),be(P,()=>e(l),J=>b(l,J)),M("keydown",P,J=>{J.key==="Enter"&&D(e(n))}),M("click",H,()=>D(e(n))),M("click",se,()=>{b(l,"NO_ACCOUNT"),D(e(n))}),g(L,y)},pr=L=>{var y=jn(),x=he(y);{var P=ne=>{var ge=Mn();g(ne,ge)};N(x,ne=>{e(n).email_late&&ne(P)})}var H=_(x,2),se=u(H,!0);d(H);var J=_(H,2);$((ne,ge)=>{ze(H,1,`inline-flex px-2 py-1 text-xs font-medium rounded-full ${ne??""}`),ie(se,ge)},[()=>S(e(n).email)?"bg-[#FFF3CD] text-[#856404]":e(n).email?"bg-[#CFEED8] text-[#1E9F37]":"bg-[#FED9DA] text-[#D7313E]",()=>S(e(n).email)?"No account":e(n).email?h(e(n).email):"N/A"],Te),M("click",J,()=>R(e(n),"email")),g(L,y)};N(vr,L=>{var y,x;((y=e(p))==null?void 0:y.id)===e(n).employee_no&&((x=e(p))==null?void 0:x.key)==="email"?L(fr):L(pr,!1)})}d(Wt),d(it);var lt=_(it),qt=u(lt),hr=u(qt);{var gr=L=>{var y=Nn(),x=u(y),P=u(x);ye(P);var H=_(P,2);d(x);var se=_(x,2);d(y),be(P,()=>e(l),J=>b(l,J)),M("keydown",P,J=>{J.key==="Enter"&&D(e(n))}),M("click",H,()=>D(e(n))),M("click",se,()=>{b(l,"NO_ACCOUNT"),D(e(n))}),g(L,y)},_r=L=>{var y=An(),x=he(y);{var P=ne=>{var ge=zn();g(ne,ge)};N(x,ne=>{e(n).windows_late&&ne(P)})}var H=_(x,2),se=u(H,!0);d(H);var J=_(H,2);$((ne,ge)=>{ze(H,1,`inline-flex px-2 py-1 text-xs font-medium rounded-full ${ne??""}`),ie(se,ge)},[()=>S(e(n).windows)?"bg-[#FFF3CD] text-[#856404]":e(n).windows?"bg-[#CFEED8] text-[#1E9F37]":"bg-[#FED9DA] text-[#D7313E]",()=>S(e(n).windows)?"No account":e(n).windows?h(e(n).windows):"N/A"],Te),M("click",J,()=>R(e(n),"windows")),g(L,y)};N(hr,L=>{var y,x;((y=e(p))==null?void 0:y.id)===e(n).employee_no&&((x=e(p))==null?void 0:x.key)==="windows"?L(gr):L(_r,!1)})}d(qt),d(lt);var dt=_(lt),Zt=u(dt),mr=u(Zt);{var xr=L=>{var y=Fn(),x=he(y);ye(x);var P=_(x,2);be(x,()=>e(l),H=>b(l,H)),M("keydown",x,H=>{H.key==="Enter"&&D(e(n))}),M("click",P,()=>D(e(n))),g(L,y)},yr=L=>{var y=Bn(),x=he(y),P=u(x,!0);d(x);var H=_(x,2);$(se=>ie(P,se),[()=>h(e(n).date_hr_emailed)],Te),M("click",H,()=>R(e(n),"date_hr_emailed")),g(L,y)};N(mr,L=>{var y,x;((y=e(p))==null?void 0:y.id)===e(n).employee_no&&((x=e(p))==null?void 0:x.key)==="date_hr_emailed"?L(xr):L(yr,!1)})}d(Zt),d(dt);var ct=_(dt),br=u(ct);{var wr=L=>{var y=Rn();ye(y),$(()=>ga(y,e(n).processed_date_time!==null)),M("change",y,()=>Q(e(n))),g(L,y)},kr=L=>{var y=Hn();g(L,y)};N(br,L=>{ue(e(n))?L(wr):L(kr,!1)})}d(ct);var Gt=_(ct),Kt=u(Gt),Er=u(Kt);{var Dr=L=>{var y=In(),x=he(y);ha(x);var P=_(x,2);be(x,()=>e(l),H=>b(l,H)),M("click",P,()=>G(e(n))),g(L,y)},Cr=L=>{var y=Un(),x=he(y),P=u(x,!0);d(x);var H=_(x,2);$(se=>ie(P,se),[()=>String(e(n).remarks||"N/A")],Te),M("click",H,()=>B(e(n))),g(L,y)};N(Er,L=>{var y,x;((y=e(p))==null?void 0:y.id)===e(n).employee_no&&((x=e(p))==null?void 0:x.key)==="remarks"?L(Dr):L(Cr,!1)})}d(Kt),d(Gt),d(j),$((L,y,x,P,H,se,J)=>{ie(m,L),ie(Se,y),ie(Le,x),ie($a,P),ie(er,H),ie(tr,se),ie(ar,J)},[()=>String(e(n).employee_no||""),()=>h(e(n).date_hired),()=>String(e(n).cost_center||""),()=>String(e(n).name||""),()=>String(e(n).position_title||""),()=>String(e(n).rank||""),()=>String(e(n).department||"")],Te),g(o,j)}),d(Ot),d(ve);var Qa=_(ve,2);{var Xa=o=>{var n=Pn();g(o,n)};N(Qa,o=>{e(r).length===0&&o(Xa)})}d(ae);var Ja=_(ae,2);Et(Ja,o=>b(F,o),()=>e(F)),d(te),M("click",fe,()=>w("employee_no")),M("click",V,()=>w("date_hired")),M("click",Me,()=>w("name")),M("click",Ve,()=>w("department")),M("click",Ye,()=>w("last_day")),M("click",We,()=>w("last_day")),M("click",qe,()=>w("last_day")),M("click",Ze,()=>w("last_day")),M("click",Ge,()=>w("last_day")),M("click",et,()=>w("last_day")),g(a,q),Ce()}function Wn(a,t,r,s){var i;b(t,""),r(),(i=e(s))==null||i.focus()}var qn=z('<div class="absolute inset-y-0 right-0 pr-3 flex items-center"><button class="text-gray-400 hover:text-gray-600 focus:outline-none transition-colors" aria-label="Clear search"><svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div>'),Zn=z('<div class="relative flex-1 min-w-[200px] max-w-md"><div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"><svg class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-4.35-4.35M17 10a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div> <input type="text" placeholder="Search" class="block w-full pl-10 pr-10 py-2.5 border border-gray-300 rounded-3xl"/> <!></div>');function Gn(a,t){De(t,!0);let r=gt(""),s=gt(void 0);function i(){var l;(l=t.onsearch)==null||l.call(t,{searchTerm:e(r)})}Qr(()=>{i()});var f=Zn(),c=_(u(f),2);ye(c),c.__input=i,Et(c,l=>b(s,l),()=>e(s));var v=_(c,2);{var p=l=>{var k=qn(),F=u(k);F.__click=[Wn,r,i,s],d(k),g(l,k)};N(v,l=>{e(r)&&l(p)})}d(f),be(c,()=>e(r),l=>b(r,l)),g(a,f),Ce()}Jr(["input","click"]);const wa=6e4,ka=36e5,na=Symbol.for("constructDateFrom");function Ea(a,t){return typeof a=="function"?a(t):a&&typeof a=="object"&&na in a?a[na](t):a instanceof Date?new a.constructor(t):new Date(t)}function oa(a,t){return Ea(a,a)}function Kn(a,t){const r=()=>Ea(t==null?void 0:t.in,NaN),i=$n(a);let f;if(i.date){const l=eo(i.date,2);f=to(l.restDateString,l.year)}if(!f||isNaN(+f))return r();const c=+f;let v=0,p;if(i.time&&(v=ao(i.time),isNaN(v)))return r();if(i.timezone){if(p=ro(i.timezone),isNaN(p))return r()}else{const l=new Date(c+v),k=oa(0);return k.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),k.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),k}return oa(c+v+p)}const Ke={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Qn=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Xn=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Jn=/^([+-])(\d{2})(?::?(\d{2}))?$/;function $n(a){const t={},r=a.split(Ke.dateTimeDelimiter);let s;if(r.length>2)return t;if(/:/.test(r[0])?s=r[0]:(t.date=r[0],s=r[1],Ke.timeZoneDelimiter.test(t.date)&&(t.date=a.split(Ke.timeZoneDelimiter)[0],s=a.substr(t.date.length,a.length))),s){const i=Ke.timezone.exec(s);i?(t.time=s.replace(i[1],""),t.timezone=i[1]):t.time=s}return t}function eo(a,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=a.match(r);if(!s)return{year:NaN,restDateString:""};const i=s[1]?parseInt(s[1]):null,f=s[2]?parseInt(s[2]):null;return{year:f===null?i:f*100,restDateString:a.slice((s[1]||s[2]).length)}}function to(a,t){if(t===null)return new Date(NaN);const r=a.match(Qn);if(!r)return new Date(NaN);const s=!!r[4],i=Ie(r[1]),f=Ie(r[2])-1,c=Ie(r[3]),v=Ie(r[4]),p=Ie(r[5])-1;if(s)return lo(t,v,p)?so(t,v,p):new Date(NaN);{const l=new Date(0);return!oo(t,f,c)||!io(t,i)?new Date(NaN):(l.setUTCFullYear(t,f,Math.max(i,c)),l)}}function Ie(a){return a?parseInt(a):1}function ao(a){const t=a.match(Xn);if(!t)return NaN;const r=pt(t[1]),s=pt(t[2]),i=pt(t[3]);return co(r,s,i)?r*ka+s*wa+i*1e3:NaN}function pt(a){return a&&parseFloat(a.replace(",","."))||0}function ro(a){if(a==="Z")return 0;const t=a.match(Jn);if(!t)return 0;const r=t[1]==="+"?-1:1,s=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return uo(s,i)?r*(s*ka+i*wa):NaN}function so(a,t,r){const s=new Date(0);s.setUTCFullYear(a,0,4);const i=s.getUTCDay()||7,f=(t-1)*7+r+1-i;return s.setUTCDate(s.getUTCDate()+f),s}const no=[31,null,31,30,31,30,31,31,30,31,30,31];function Da(a){return a%400===0||a%4===0&&a%100!==0}function oo(a,t,r){return t>=0&&t<=11&&r>=1&&r<=(no[t]||(Da(a)?29:28))}function io(a,t){return t>=1&&t<=(Da(a)?366:365)}function lo(a,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function co(a,t,r){return a===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&a>=0&&a<25}function uo(a,t){return t>=0&&t<=59}var vo=z('<label class="field-option svelte-1jjbium"><input type="radio" name="filter" class="svelte-1jjbium"/> </label>'),fo=z('<div class="date-range svelte-1jjbium"><input type="date" class="svelte-1jjbium"/> <input type="date" class="svelte-1jjbium"/></div>'),po=z('<div class="field-grid mb-2 svelte-1jjbium" style="gap: 0.25rem 0.70rem;"><label class="field-option svelte-1jjbium"><input type="radio" name="status-filter" value="processed" class="svelte-1jjbium"/> <span class="inline-block px-5 py-1.5 rounded-full text-sm font-[Open_Sans] font-550 bg-[#CFEED8] text-[#1E9F37]">Processed</span></label> <label class="field-option svelte-1jjbium"><input type="radio" name="status-filter" value="unprocessed" class="svelte-1jjbium"/> <span class="inline-block px-3 py-1.5 rounded-full text-sm font-[Open_Sans] font-550 bg-[#FED9DA] text-[#D7313E]">Unprocessed</span></label></div>'),ho=z('<div class="filter-input svelte-1jjbium"><input type="text" class="w-full px-2 py-1 border border-gray-300 rounded mb-0.25"/></div>'),go=z('<div class="filter-tag svelte-1jjbium"> <button class="svelte-1jjbium">×</button></div>'),_o=z('<div class="active-filters svelte-1jjbium"><!> <button class="clear-button svelte-1jjbium">Clear All</button></div>'),mo=z('<div class="dropdown-panel svelte-1jjbium"><button class="close-button svelte-1jjbium">✕</button> <div class="field-grid svelte-1jjbium"></div> <hr class="divider svelte-1jjbium"/> <!> <!></div>'),xo=z('<div class="dropdown svelte-1jjbium"><button class="filter-button svelte-1jjbium"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="svelte-1jjbium"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"></path></svg> Filter</button> <!></div>');function yo(a,t){De(t,!1);let r=me(t,"employees",24,()=>[]);const s=Tr();let i=ee(!1),f=ee(""),c=ee(""),v=ee(""),p=ee(""),l=ee([]);const k=["Employee No.","Date Hired","Cost Center","Name","Position","Rank","Department","Last Day","Batch Deactivation","3rd Party Systems","Emails","Windows","HR Email","Status","Remarks"];function F(){b(i,!e(i))}function w(Q){b(f,Q),b(c,""),b(v,""),b(p,"")}function h(){if(["Date Hired","Last Day","Batch Deactivation","3rd Party Systems","Emails","Windows","HR Email"].includes(e(f))){if(e(v)&&e(p)){const Q=new Date(e(v)).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),q=new Date(e(p)).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),de=`${Q} to ${q}`;e(l).find(ae=>ae.field===e(f)&&ae.value===de)||(b(l,[...e(l),{field:e(f),value:de}]),S()),b(f,""),b(v,""),b(p,"")}}else e(f)&&e(c)&&(e(l).find(q=>q.field===e(f)&&q.value===e(c))||(b(l,[...e(l),{field:e(f),value:e(c)}]),S()),b(f,""),b(c,""))}function E(Q){b(l,e(l).filter((q,de)=>de!==Q)),S()}function R(){b(i,!1),b(f,""),b(c,"")}function D(){b(l,[]),S()}function S(){let Q=r();e(l).forEach(q=>{const de=W(q.field);Q=Q.filter(te=>{var we;const ae=(we=te[de])==null?void 0:we.toString().toLowerCase(),ve=q.value.toLowerCase();if(q.field==="Employee No."||q.field==="Cost Center"){const pe=ae.replace(/^0+/,""),fe=ve.replace(/^0+/,"");return pe===fe}if(["Date Hired","Last Day","Batch Deactivation","3rd Party Systems","Emails","Windows","HR Email"].includes(q.field)){const[pe,fe]=q.value.split(" to ");try{const re=Kn(te[de]);return re>=new Date(pe)&&re<=new Date(fe)}catch{return!1}}return q.field==="Status"?(ae?"processed":"unprocessed")===ve.toLowerCase():ae==null?void 0:ae.toString().toLowerCase().includes(ve)})}),s("filter",{filtered:Q})}function W(Q){return{"Employee No.":"employee_no","Date Hired":"date_hired","Cost Center":"cost_center",Name:"name",Position:"position_title",Rank:"rank",Department:"department","Last Day":"last_day","Batch Deactivation":"um","3rd Party Systems":"third_party",Emails:"email",Windows:"windows","HR Email":"date_hr_emailed",Status:"processed_date_time",Remarks:"remarks"}[Q]||Q}Ue();var G=xo(),B=u(G),I=_(B,2);{var ue=Q=>{var q=mo(),de=u(q),te=_(de,2);$e(te,5,()=>k,ta,(re,oe)=>{var ce=vo(),C=u(ce);ye(C);var U=_(C);d(ce),$(()=>{ts(C,e(oe)),ga(C,e(f)===e(oe)),ie(U,` ${e(oe)??""}`)}),M("change",C,()=>w(e(oe))),g(re,ce)}),d(te);var ae=_(te,4);{var ve=re=>{var oe=fo(),ce=u(oe);ye(ce);var C=_(ce,2);ye(C),d(oe),be(ce,()=>e(v),U=>b(v,U)),M("change",ce,()=>{e(v)&&e(p)&&h()}),be(C,()=>e(p),U=>b(p,U)),M("change",C,()=>{e(v)&&e(p)&&h()}),g(re,oe)},we=(re,oe)=>{{var ce=U=>{var V=po(),A=u(V),O=u(A);mt(2),d(A);var Z=_(A,2),X=u(Z);mt(2),d(Z),d(V),M("change",O,()=>{b(c,"Processed"),h()}),M("change",X,()=>{b(c,"Unprocessed"),h()}),g(U,V)},C=(U,V)=>{{var A=O=>{var Z=ho(),X=u(Z);ye(X),d(Z),$(()=>as(X,"placeholder",`Enter ${e(f)}...`)),be(X,()=>e(c),ke=>b(c,ke)),M("keydown",X,ke=>{ke.key==="Enter"&&h()}),g(O,Z)};N(U,O=>{e(f)&&O(A)},V)}};N(re,U=>{e(f)==="Status"?U(ce):U(C,!1)},oe)}};N(ae,re=>{["Date Hired","Last Day","Batch Deactivation","3rd Party Systems","Emails","Windows","HR Email"].includes(e(f))?re(ve):re(we,!1)})}var pe=_(ae,2);{var fe=re=>{var oe=_o(),ce=u(oe);$e(ce,1,()=>e(l),ta,(U,V,A)=>{var O=go(),Z=u(O),X=_(Z);d(O),$(()=>ie(Z,`${e(V).field??""} = ${e(V).value??""} `)),M("click",X,()=>E(A)),g(U,O)});var C=_(ce,2);d(oe),M("click",C,D),g(re,oe)};N(pe,re=>{e(l).length>0&&re(fe)})}d(q),M("click",de,R),g(Q,q)};N(I,Q=>{e(i)&&Q(ue)})}d(G),M("click",B,F),g(a,G),Ce()}var bo=z('<ul class="absolute right-0 mt-1 w-36 z-50 bg-white border border-gray-300 rounded-md shadow-md z-10 text-sm font-[Open_Sans]"><li><button type="button" class="w-full text-left px-4 py-2 hover:bg-gray-100">Export as CSV</button></li> <li><button type="button" class="w-full text-left px-4 py-2 hover:bg-gray-100">Export as XLSX</button></li></ul>'),wo=z('<div class="flex items-center gap-2 relative"><label for="start-date" class="text-sm text-gray-600 font-[Open_Sans]">From:</label> <input id="start-date" type="date" class="border border-gray-300 px-3 py-1 rounded-full text-sm font-[Open_Sans] uppercase"/> <label for="end-date" class="text-sm text-gray-600 font-[Open_Sans]">To:</label> <input id="end-date" type="date" class="border border-gray-300 px-3 py-1 rounded-full text-sm font-[Open_Sans] uppercase"/> <div class="relative"><button><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"></path></svg> Export</button> <!></div></div>');function ko(a,t){De(t,!1);let r=ee(""),s=ee(""),i=ee(!1),f=ee(!1);async function c(D){if(!e(r)||!e(s)){alert("Please select both a start and end date.");return}try{const S=new Date(e(r)).toISOString(),W=new Date(e(s)).toISOString(),G=await fetch(`${Ee}/resignees/report?start_date=${S}&end_date=${W}&format=${D}`,{credentials:"include"});if(!G.ok)throw new Error("Failed to fetch report from backend");const B=await G.blob(),I=URL.createObjectURL(B),ue=document.createElement("a");ue.href=I,ue.download=`resignee_report_${e(r)}_to_${e(s)}.${D}`,ue.click(),URL.revokeObjectURL(I),b(i,!0)}catch(S){console.error("Error downloading backend report:",S),alert("No process dates were found within the specified date range")}}function v(){b(f,!e(f))}function p(){setTimeout(()=>{b(f,!1)},150)}Ue();var l=wo(),k=_(u(l),2);ye(k);var F=_(k,4);ye(F);var w=_(F,2),h=u(w),E=_(h,2);{var R=D=>{var S=bo(),W=u(S),G=u(W);d(W);var B=_(W,2),I=u(B);d(B),d(S),M("click",G,()=>c("csv")),M("click",I,()=>c("xlsx")),g(D,S)};N(E,D=>{e(f)&&D(R)})}d(w),d(l),$(()=>ze(h,1,`flex items-center gap-2 px-4.25 py-1.75 rounded-md text-sm font-[Open_Sans] hover:bg-blue-600 transition ${e(i),"bg-blue-500 text-white"}`)),be(k,()=>e(r),D=>b(r,D)),be(F,()=>e(s),D=>b(s,D)),M("click",h,v),M("blur",w,p),g(a,l),Ce()}var Eo=z('<button class="flex items-center gap-2 px-3 py-1.75 bg-red-500 text-white rounded-md hover:bg-red-600 transition"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"></path></svg> Logout</button>');function Do(a,t){De(t,!1);async function r(){try{const i=await fetch(`${Ee}/logout`,{method:"POST",credentials:"include"});if(!i.ok){const f=await i.text();console.error("Logout failed:",f);return}xt("/")}catch(i){console.error("Logout error:",i)}}Ue();var s=Eo();M("click",s,r),g(a,s),Ce()}var Co=z('<div class="flex items-center justify-center py-12"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div> <span class="ml-3 text-gray-600">Loading employees...</span></div>'),Lo=z('<div class="flex items-center justify-center py-12"><div class="text-red-600 bg-red-50 px-4 py-2 rounded-lg"> </div></div>'),So=z('<div class="mt-4 text-sm text-gray-600"> </div>'),To=z('<p class="mt-2 text-sm text-gray-700"> </p>'),Mo=z('<main class="min-h-screen bg-gray-50 p-6"><div class="max-w-7xl mx-auto"><div class="flex flex-wrap items-center justify-between gap-4 mb-6"><img src="/assets/aub-logo-2.png" alt="AUB logo" width="45"/> <div class="flex items-center gap-4 flex-1"><!></div> <div class="flex gap-2"><!> <!></div></div> <!> <!></div> <form><div class="mt-4 max-w-7xl mx-auto mb-6"><textarea rows="5" class="block w-full p-4 text-gray-900 border border-gray-300 rounded-lg bg-white text-base resize-y" placeholder="Paste resignee details here..."></textarea> <div class="mt-4 flex justify-between items-center"><button type="submit" class="px-4.25 py-1.5 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition">Submit</button> <!></div> <!></div></form></main>');function Uo(a,t){De(t,!1);let r=ee([]),s=ee([]),i=ee(""),f=ee(""),c="all",v=ee(!0),p=ee(""),l=ee("");yt(async()=>{try{(await fetch(`${Ee}/check-auth`,{method:"GET",credentials:"include"})).ok?await k():(console.log("Unauthorized. Redirecting to login."),xt("/"))}catch{console.error("Fetch failed (likely CORS or server down). Redirecting to login."),xt("/")}});async function k(){try{b(v,!0),b(i,""),console.log("Attempting to fetch from:",`${Ee}/resignees`);const C=new AbortController,U=setTimeout(()=>C.abort(),1e4),V=await fetch(`${Ee}/resignees`,{signal:C.signal,credentials:"include"});if(clearTimeout(U),console.log("Response status:",V.status),console.log("Response ok:",V.ok),!V.ok){const O=await V.text();throw console.log("Error response:",O),new Error(`HTTP ${V.status}: ${O}`)}const A=await V.json();console.log("Received data:",A),console.log("Data length:",A==null?void 0:A.length),b(r,A||[]),b(v,!1)}catch(C){console.error("Load employees error:",C),C instanceof Error?C.name==="AbortError"?b(i,"Request timed out. Please check if the server is running."):C.message.includes("fetch")?b(i,"Cannot connect to server. Please check if the server is running on http://localhost:8000"):b(i,C.message):b(i,"An unexpected error occurred"),b(v,!1)}}function F(C){b(f,C.searchTerm)}function w(C){b(s,C.detail.filtered)}async function h(){const C=e(p).split(`
`),U=20;if(C.length%U!==0){le.error(`Invalid input: expected 20 lines per employee (10 fields, each followed by a blank line). Got ${C.length} lines.`);return}const V=C.length/U;for(let A=0;A<V;A++)for(let O=0;O<U;O++){const Z=A*U+O,X=C[Z];if(O%2===0){if(!X||X.trim()===""){le.error(`Employee ${A+1}, line ${O+1} is empty. Expected a data field.`);return}}else if(X.trim()!==""){le.error(`Employee ${A+1}, line ${O+1} must be blank (used for spacing).`);return}}try{const A=await fetch(`${Ee}/resignees`,{method:"POST",headers:{"Content-Type":"text/plain"},body:e(p).trimEnd(),credentials:"include"});if(!A.ok){const Z=await A.text();throw new Error(`HTTP error! status: ${A.status} - ${Z}`)}await k(),b(p,"");let O=[];for(let Z=0;Z<V;Z++){const X=Z*U,ke=C[X].trim(),Me=C[X+6].trim(),Be=C[X+8].trim(),Pe=C[X+10].trim();O.push(`${ke} – ${Be} ${Pe} ${Me}`)}le.success(`Successfully added ${V} employee(s)!
${O.join(`
`)}`)}catch(A){const O=A instanceof Error?A.message:String(A);le.error(`Failed to add employee(s): ${O}`)}}async function E(C){const{employee:U,action:V}=C.detail;try{let A,O;V?(A=V,O=V):U.processed_date_time?(A="unprocess",O="unprocess"):(A="process",O="process");const Z=await fetch(`${Ee}/resignees/${U.employee_no}/${A}`,{method:"PUT",credentials:"include"});if(!Z.ok){const ke=await Z.text();throw new Error(`Failed to ${O} employee: ${Z.status} - ${ke}`)}await k();const X=O==="process"?"processed":"unprocessed"}catch(A){const O=V||(U.processed_date_time?"unprocess":"process"),Z=A instanceof Error?A.message:String(A);b(l,`Error ${O}ing employee: ${Z}`)}}_t(()=>(e(f),e(r)),()=>{const C={january:0,jan:0,february:1,feb:1,march:2,mar:2,april:3,apr:3,may:4,june:5,jun:5,july:6,jul:6,august:7,aug:7,september:8,sep:8,october:9,oct:9,november:10,nov:10,december:11,dec:11},U=e(f).toLowerCase().trim(),V=C[U];b(s,e(r).filter(A=>{A.processed_date_time;const O=c==="all",Z=Be=>String(Be||"").toLowerCase().includes(U),X=new Date(A.date_hired),ke=new Date(A.last_day),Me=V!==void 0&&(X.getMonth()===V||ke.getMonth()===V);return(U===""||Z(A.name)||Z(A.employee_no)||Z(A.department)||Z(A.position_title)||Me)&&O}))}),pa(),Ue();var R=Mo();$r(C=>{Xr.title="AUB Resignee Tracker"});var D=u(R),S=u(D),W=_(u(S),2),G=u(W);Gn(G,{onsearch:F}),d(W);var B=_(W,2),I=u(B);yo(I,{get employees(){return e(r)},$$events:{filter:w}});var ue=_(I,2);ko(ue,{}),d(B),d(S);var Q=_(S,2);{var q=C=>{var U=Co();g(C,U)},de=(C,U)=>{{var V=O=>{var Z=Lo(),X=u(Z),ke=u(X);d(X),d(Z),$(()=>ie(ke,`Error: ${e(i)??""}`)),g(O,Z)},A=O=>{Yn(O,{get employees(){return e(s)},onstatustoggle:E,onEmployeeUpdate:()=>{k()}})};N(C,O=>{e(i)?O(V):O(A,!1)},U)}};N(Q,C=>{e(v)?C(q):C(de,!1)})}var te=_(Q,2);{var ae=C=>{var U=So(),V=u(U);d(U),$(()=>ie(V,`Showing ${e(s).length??""} of ${e(r).length??""} employees`)),g(C,U)};N(te,C=>{!e(v)&&!e(i)&&C(ae)})}d(D);var ve=_(D,2),we=u(ve),pe=u(we);ha(pe);var fe=_(pe,2),re=_(u(fe),2);Do(re,{}),d(fe);var oe=_(fe,2);{var ce=C=>{var U=To(),V=u(U,!0);d(U),$(()=>ie(V,e(l))),g(C,U)};N(oe,C=>{e(l)&&C(ce)})}d(we),d(ve),d(R),be(pe,()=>e(p),C=>b(p,C)),M("submit",ve,ls(h)),g(a,R),Ce()}export{Uo as component};

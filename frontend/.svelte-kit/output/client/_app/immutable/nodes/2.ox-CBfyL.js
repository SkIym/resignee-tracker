import{f as A,a as L}from"../chunks/B5mZLFLJ.js";import{i as C}from"../chunks/D6vZkVq1.js";import{p as M,t as $,g as e,a as O,s as n,$ as z,c as r,r as s,m as c,b as o}from"../chunks/KKiNGECp.js";import{h as F,e as P,s as S}from"../chunks/CxMWnzkG.js";import{i as G}from"../chunks/BOZlHw2i.js";import{b as U,r as D,B as H}from"../chunks/DX3MR-9l.js";import{g as q}from"../chunks/TU0YPFzo.js";var I=A('<div class="text-red-red-600 text-sm text-center"> </div>'),J=A(`<div class="min-h-screen flex items-center justify-center bg-gray-100 px-4 py-8"><div class="w-full max-w-sm"><form class="space-y-4"><div><label for="username" class="block text-sm font-medium text-gray-700 mb-1">Username</label> <input id="username" name="username" type="text" required class="w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 transition-colors disabled:opacity-50"/></div> <div><label for="password" class="block text-sm font-medium text-gray-700 mb-1">Password</label> <input id="password" name="password" type="password" required class="w-full px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 transition-colors disabled:opacity-50"/></div> <!> <button type="submit" class="mt-6 w-full py-2 px-4 bg-blue-500 hover:bg-blue-600 disabled:bg-blue-300 text-white font-medium rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors"> </button></form> <div class="mt-5 text-center"><p class="text-left text-sm text-gray-600 mb-1">Don't have an account yet?</p> <button type="button" class="border-3 border-blue-500 w-full py-2 px-4 hover:bg-gray-300 disabled:opacity-50 text-blue-500 font-medium rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 transition-colors">Sign Up</button></div></div></div>`);function te(B,E){M(E,!1);let m=c(""),p=c(""),i=c(!1),l=c("");const N=async t=>{t.preventDefault(),o(i,!0),o(l,"");try{const a=new URLSearchParams;a.append("username",e(m)),a.append("password",e(p));const d=await fetch(`${H}/login`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:a,credentials:"include"});if(d.ok)q("/dashboard");else{const K=await d.text();o(l,`Login failed (${d.status}). Please check your credentials.`)}}catch(a){a instanceof Error?o(l,`Network error: ${a.message}. Please try again.`):o(l,"Network error: An unknown error occurred. Please try again.")}finally{o(i,!1)}},R=()=>{q("/signup")};C();var f=J();F(t=>{z.title="Login"});var h=r(f),u=r(h),b=r(u),g=n(r(b),2);D(g),s(b);var v=n(b,2),y=n(r(v),2);D(y),s(v);var x=n(v,2);{var T=t=>{var a=I(),d=r(a,!0);s(a),$(()=>S(d,e(l))),L(t,a)};G(x,t=>{e(l)&&t(T)})}var w=n(x,2),j=r(w,!0);s(w),s(u);var _=n(u,2),k=n(r(_),2);s(_),s(h),s(f),$(()=>{g.disabled=e(i),y.disabled=e(i),w.disabled=e(i),S(j,e(i)?"Logging in...":"Login"),k.disabled=e(i)}),U(g,()=>e(m),t=>o(m,t)),U(y,()=>e(p),t=>o(p,t)),P("submit",u,N),P("click",k,R),L(B,f),O()}export{te as component};
